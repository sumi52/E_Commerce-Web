(function(w){var q=window.AmazonUIPageJS||window.P,Z=q._namespace||q.attributeErrors,g=Z?Z("DetailPageImageBlockAssets",""):q;g.guardFatal?g.guardFatal(w)(g,window):g.execute(function(){w(g,window)})})(function(w,q,Z){w.register("postMetric",function(){return{postCountMetric:function(g){if("undefined"!==typeof g){var b=q.ue;if(b){var a=b.count(g)||0;b.count(g,a+1)}}},postTimeMetric:function(g,b){if("undefined"!==typeof g&&"undefined"!==typeof b){var a=q.ue;a&&a.count(g,b)}}}});"use strict";w.register("logFailedInteractionMetric",
function(){return{isEnabled:!1}});w.register("postEarlyMetric",function(){return null});"use strict";w.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(g,b,a,e){g=g.extend(!0,{},a,e);var l=new b(g);w.register("ImageBlockAPI",function(){return l.api});return l});"use strict";w.when("A","jQuery").execute(function(g,b){g.on("a:image:load:landingImage",function(){q.performance&&performance.now&&q.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",
performance.now())});g.loadDynamicImage(b("#landingImage"))});"use strict";w.when("ImageBlockATF","atf").register("ImageBlockAiryLoader",function(g){function b(a){a&&(w.load.js(a),q.performance&&performance.now&&q.ue&&ue.count&&ue.count("DPAiryDownloadStartTime",q.parseInt(performance.now())))}function a(a){a&&w.load.css(a)}var e=g.airyConfig;e===Z?w.when("ImageBlockBTF").execute(function(l){e=l.airyConfig;b(e.jsUrl);a(e.cssUrl)}):(b(e.jsUrl),a(e.cssUrl))});"use strict";w.when("jQuery","ImageBlockModel",
"ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",function(g,b,a,e,l){var c={};return function(h){var d=this;d.dispatch=function(a,b){var d=c[a];e.isDefined(d)&&g.each(d,function(a,c){c.call(q,b)})};d.register=function(a,b){e.isDefined(c[a])||(c[a]=[]);"function"===typeof b&&c[a].push(b)};d.model=new b(h,d);d.view=new a(h,d,d.model);d.api=new l(h,d,d.model);d.init=function(){d.model.init();d.view.init()};d.init()}});"use strict";w.when("A","imageBlockUtils").register("ImageBlockModel",
function(g,b){function a(a,c,d,l,h,k){b.isDefined(a)&&(G.type=a);b.isDefined(c)&&(G.index=c);b.isDefined(d)&&(G.thumbnailIndex=d);b.isDefined(l)&&(G.variant=l);b.isDefined(h)&&(G.color=h);G.shoppableScene=k||null}function e(b){a("image",0,0,"MAIN",b||d.landingAsinColor||d.defaultColor,null)}function l(b){b=b.data;I=g.copy(G);a(b.type,b.index,b.thumbnailIndex,b.variant,b.color,b.shoppableScene)}function c(a){l(a);a=g.copy(a);a.data=g.copy(G);n.dispatch("updateView",a)}function h(){I=g.copy(G);e(G.color)}
var d,n,G={},I={},C,q;return function(a,b){n=b;d=a;n.register("updateSelection",c);n.register("updateModel",l);n.register("resetModel",h);this.init=function(){e()};this.getCurrentItem=function(){return g.copy(G)};this.getPreviousItem=function(){return g.copy(I)};this.setCurrentEvent=function(a){C=a};this.getCurrentEvent=function(){return C};this.setImmersiveViewModalInstance=function(a){q=a};this.getImmersiveViewModalInstance=function(){return q};this.updateTitle=function(a){d.title=a}}});"use strict";
w.when("ImageBlockBTF","postMetric").execute(function(g,b){function a(a,b,h,d,e){function G(a){"click"===a.type&&d.postCountMetric("thumbClick");"click"===a.type&&v.overrideAltImageClickAction?p.dispatch("thumbActionClick",a):p.dispatch("updateSelection",a)}function I(a){v.useClickZoom||p.dispatch("imageClick",a)}function C(a){v.useClickZoom||p.dispatch("imageHover",a)}function K(a){p.dispatch("button360Click",a)}function A(b){!h.isDefined(b)||"swatchClick"!==b.type&&"updatedData"!==b.type?(F.update(b),
"swatchHover"!==b.type&&y.getPreviousItem().thumbnailIndex!==b.data.thumbnailIndex&&d.postCountMetric(b.data.type+"ThumbnailSelected"),a.trigger("image-block-thumbnail-selected",b.data)):(F.render(b.data.color,!1,b.onload),b={hasComponents:!0,components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof q.markFeatureRender&&q.markFeatureRender("imageblock",b))}function z(a){p.dispatch("resize",a)}function P(a){h.selectThumbnail(a,E)}function N(){"function"===typeof q.markFeatureInteractive&&
q.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function L(){"function"===typeof q.markFeatureInteractive&&q.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!0}]});1===g.useIV?w.when("a-modal").execute(function(){N()}):N();v.disableHoverOnAltImages||a.declarative("thumb-action",["mouseenter",
"mouseleave"],G);a.declarative("thumb-action",["click"],G);a.declarative("main-image-click",["click"],I);a.declarative("main-image-click",["mouseenter","mouseleave"],C);a.declarative("button-360-click",["click"],K);a.on("resize",z)}function k(a){var b=a.data,f;b&&"ingress"!==b.type&&"click"===a.type&&(f=a);return f}function D(a){var b=y.getCurrentItem(),f={type:"click"};f.$declarativeParent=a;f.data=b;return f}var F,v,p,y,E;return function(a,d,f){F=this;v=a;p=d;y=f;E=b("#imageBlock #altImages ul");
var m=b("#imageBlock .canvas"),h=b("#main-image-container"),l;F.subViews=[];for(d=0;d<e.length;d++)F.subViews.push(new e[d](a,f,F,p));F.render=function(a,f,d){var k=0;E.find(".item").remove();a=a||y.getCurrentItem().color;b.each(F.subViews,function(b,c){k=c.render(a,k,m,E,h,f,d)||k});var e=E.find(".a-button-selected").closest(".a-declarative");l=D(e)};F.init=function(){E=b("#imageBlock #altImages ul");var a=E.find(".a-button-selected").closest(".a-declarative"),f=a.data("action"),a=a.data(f)||{};
a.color=v.landingAsinColor||v.defaultColor;p.dispatch("updateModel",{data:a});F.render(a.color,!0);v.isDebug&&q.console&&console.log(v);p.register("updateView",A);p.register("selectThumbnail",P);L()};F.update=function(a){b.each(F.subViews,function(b,f){f.update(a)});v.usePeekHover&&("mouseleave"===a.type?p.dispatch("updateSelection",l):"click"===a.type&&(l=k(a)||l))}}}var e=["A","jQuery","imageBlockUtils","postMetric"].concat(g.views);w.when.apply(w,e).register("ImageBlockView",function(){for(var b=
arguments[0],c=arguments[1],h=arguments[2],d=arguments[3],e=[],g=4,I=arguments.length;g<I;g++)e.push(arguments[g]);return a(b,c,h,d,e)})});"use strict";w.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(g,b,a,e,l,c,h){function d(f,c,d,m){if(!a.isjQueryObjDefined(f.find(".a-button-selected"))){var k=y.getCurrentItem();if(!m||"chromeless-video"!==k.type||!p.autoplayVideo){m=0;"image"===k.type&&
(m=Math.max(I(k.color,k.variant),0));var h=c+m;h>=d&&(m=0,h=c);c=a.getImageHash(k.color,m,p);-1!==c&&(E.dispatch("updateModel",{data:{index:m,thumbnailIndex:h,variant:c.variant,type:"image",shoppableScene:c.shoppableScene}}),c=f.find(".item").get(h),a.selectGivenThumbnail(b(c),f))}}}function n(f,m,k){m=p.colorImages&&p.colorImages[m];var e=f;a.isDefined(m)&&(b.each(m,function(b,c){f<p.maxAlts&&(a.createThumbnail({type:"image",index:b,thumbnailIndex:f,variant:c.variant,shoppableScene:c.shoppableScene},
c.thumb,J,"imageThumbnail"),f++)}),c.isEnabled&&h.logAltImgRequestPlacedOnThumbnails(b,c,y),d(J,e,f,k));return f}function G(f,c){if("image"===f.type){var d=b("#image-canvas-caption #canvasCaption"),m,k=p.staticStrings,h=p.colorImages,e=f.color,l=f.index;a.isShoppableScenesEnabled()&&f.shoppableScene?m=k.clickSceneTagsToShopProducts:c&&p.useIV?m=k.clickToExpand:h[e]&&h[e][l].hiRes&&p.useHoverZoom?(m=p.useHoverZoomIpad?k.touchToZoom:p.useClickZoom?k.clickToZoom:k.rollOverToZoom,p.hoverZoomIndicator&&
(m="\x3cimg src\x3d'"+p.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+m)):p.useIV&&(m=k.clickToExpand);d.html(m)}}function I(b,f){return a.getIndexForVariant(b,f,p)}function C(c,m){var d="a-dynamic-image";if(!p.acEnabled){var k;b.each(c.main,function(b,f){a.isDefined(k)||(k=parseFloat(f[1]/f[0])<=parseFloat(p.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});d+=k}var h=a.getMaxDimensionsOfMainImage(c.main,f,p),e=h[0],l=h[1],h=b("\x3cdiv\x3e\x3c/div\x3e"),e={"max-height":e,"max-width":l};
h.addClass(d).css(e).attr({"data-old-hires":c.hiRes,"data-a-manual-replacement":"true",onload:m}).data("a-dynamic-image",c.main);return h}function q(a){var b=t.find(".swatchHoverExp");a=C(a);b.find(".imgTagWrapper").html(a);g.loadImageManually(a);return b}function A(a){var b=f.css("height");null!==b&&a.find(".imgTagWrapper").css("height",b);a.addClass("selected");p.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(p.imgTagWrapperClasses)}function z(b,f){if("image"===b.type||"unavailable"===
b.type||"lazy-loaded"===b.type){a.isDefined(f)&&l.postCountMetric("mainImageUpdateOnTwisterVariationClick");var m=a.getImageHash(b.color,b.index,p);if(-1===m)return m={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},a.lazyLoadingRequired(b,y,p)?L(b,!1,f):(E.dispatch("updateModel",m),a.showUnavailable(b.color)),-1;var d=t.find(".item.itemNo"+b.thumbnailIndex);if(!a.isjQueryObjDefined(d)){var d=b.thumbnailIndex,k=C(m,f),e;if(a.isShoppableScenesEnabled()&&m.shoppableScene){e="desktop-dp-atf-ib-shoppablescenes-tags-"+
d;"function"==typeof uet&&uet("bb",e,{wb:1});k.attr("data-a-image-name","shoppable-scene");var x=t.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");x.addClass("celwidget").attr("cel_widget_id",e);x.children("span").css("display","inline-block");E.dispatch("initialize-shoppable-scene",{index:d,shoppableScene:m.shoppableScene,imageSource:m.hiRes,$tagPlaceholder:x.find(".mirai-scene-tag-placeholder"),$viewProductsButton:x.find(".mirai-scene-view-products-button")});
"function"==typeof uet&&uet("cf",e,{wb:1});e=x}else e=t.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");e.addClass("image item itemNo"+d+" maintain-height");e.find(".placeHolder").replaceWith(k);t.find(".list").append(e);g.loadImageManually(k);d=e}A(d);E.dispatch("loadMagnifier");G(b);p.useIV&&a.isDefined(m.hiRes)&&d.css("cursor","pointer");b.isUserGenerated&&(d=y.getPreviousItem(),k=b.variant,a.isDefined(k)&&d.thumbnailIndex!==b.thumbnailIndex&&(c.isEnabled&&h.logAltImgRequestServed(c),
l.postCountMetric("ImageThumbnailSelectedVariant:"+k),0===k.indexOf("IG")&&(l.postCountMetric("IGImageSelectedVariant:"+k),l.postCountMetric("IGImageSelectedEvent:"+b.interaction))));g.trigger("dp:image-block:update",m)}}function P(b){var f=Math.max(I(b.color,y.getCurrentItem().variant),0),f=a.getImageHash(b.color,f,p);if(-1===f)return a.lazyLoadingRequired(b,y,p)?a.lazyLoadOnHoverEnabled(p)&&(N(".3",!0),a.spinner(t,!0),g.delay(function(){y.getCurrentEvent().data===b&&L(b,!0)},500)):a.showUnavailable(b.color),
-1;var c=q(f);l.postCountMetric("mainImageUpdateOnTwisterVariationHover");A(c);g.trigger("dp:image-block:update",f)}function N(a,f){f?t.css("opacity",a):b("#imageBlock").css("opacity",a)}function L(b,f,c){m=f;x=c;var d=b.color,h=p.colorToAsin[d];if(h&&h.asin){var g={};g.params={asin:h.asin,productGroupID:p.productGroupID,color:d};g.success=function(e){e?(l.postCountMetric("lazyloadImageBlockOnTwisterUpdateSuccess"),a.ajaxState(h.asin,"success"),p.colorImages[d]=e.colorImage,a.isDefined(p.spin360ColorEnabled)&&
(p.spin360ColorEnabled[d]=e.enable360),d===b.color&&(f&&m?(l.postCountMetric("lazyloadImageBlockOnTwisterHoverSuccess"),b===y.getCurrentEvent().data&&(k(b),P(b))):(l.postCountMetric("lazyloadImageBlockOnTwisterClickSuccess"),e={type:"updatedData",data:y.getCurrentItem(),onload:c||x},E.dispatch("updateView",e))),w.register(a.rankedImagesReadyEvent(h.asin))):(l.postCountMetric("lazyloadImageBlockOnTwisterUpdateFail"),a.ajaxState(h.asin,"fail"))};g.error=function(){l.postCountMetric("lazyloadImageBlockOnTwisterUpdateFail");
a.ajaxState(h.asin,"fail")};g.indicator=a.spinner(t);a.ajaxState(h.asin,void 0)&&"fail"!==a.ajaxState(h.asin,void 0)||(f?l.postCountMetric("lazyloadImageBlockOnTwisterHover"):l.postCountMetric("lazyloadImageBlockOnTwisterClick"),N(".3",f),e.load("/gp/product/features/apparel-main-image/ranked-images.html",g),a.ajaxState(h.asin,"sent"));return p.colorImages&&p.colorImages[d]}}function k(f,c){a.lazyLoadingRequired(f,y,p)||(b("#imageBlock").css("opacity","1"),t.css("opacity","1"),a.spinner(t,!1),t.find("li").removeClass("selected"),
b("#image-canvas-caption #canvasCaption").empty(),a.hideUnavailable(),c&&t.find(".list .item").remove())}function D(){var c=t.find(".item .imgTagWrapper"),d=a.getContainerHeight(f,p.holderRatio,p.holderMaxHeight);0<d&&(f.height(d),c.height(d));t.find("img.a-dynamic-image").each(function(){var c=b(this);c.data("a-manual-replacement")&&g.loadDynamicImage(this);var d=c.data("a-dynamic-image"),d=a.getMaxDimensionsOfMainImage(d,f,p);c.css({"max-height":d[0]+"px","max-width":d[1]+"px"})})}function F(a){G(y.getCurrentItem(),
"mouseenter"===a.type)}var v,p,y,E,J,t,f,m,x,r;return function(b,c,d,m){v=this;p=b;y=c;E=m;p.colorImages[p.landingAsinColor]=p.colorImages[p.defaultColor];v.render=function(b,c,d,m,h,e,g){t=d;J=m;f=h;r=n(c,b,e);e||(b=y.getCurrentItem(),a.lazyLoadingRequired(b,y,p)&&E.dispatch("updateModel",{data:{type:"lazy-loaded"}}));k(y.getCurrentItem(),!e);z(y.getCurrentItem(),g);return r};v.update=function(b){var f=b.data;y.setCurrentEvent(b);"ingress"!==f.type&&k(b.data,!1);"swatchHover"===b.type?f.color===
y.getCurrentItem().color?z(y.getCurrentItem()):b.captured||-1===P(f)||(b.captured=!0):"image"===f.type&&(f.interaction=b.type,f.isUserGenerated=!0,"mouseenter"===b.type&&l.postCountMetric("dpcc_imageThumbHovered_"+(f.thumbnailIndex+1)+"_"+r),z(f),p.usePeekHover&&"click"!==b.type||(a.selectGivenThumbnail(b.$declarativeParent,J),"click"===b.type&&(l.postCountMetric("dpcc_imageThumbClicked_total"),l.postCountMetric("dpcc_imageThumbClicked_"+(f.thumbnailIndex+1)+"_"+r))))};p.overrideAltImageClickAction&&
a.addTag("clickEnabledOnAltImages");E.register("imageHover",F);E.register("resize",D)}});"use strict";w.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(g,b,a,e,l,c){function h(a){N?a.css("cursor","url('"+C.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in"))}function d(b){var c=b.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);b={};if(a.isDefined(c))for(var c=
c[1].split("_"),d=0;d<c.length;d++){var e=c[d].match(/^([A-Z]+)(\d+(\.\d+)?)$/);a.isDefined(e)&&(b[e[1]]=parseInt(e[2],10))}return b}function n(n,k){function D(){var a;k.useClickZoom?(a=k.offsetInClickZoom,a=[Math.min(1,Math.max(0,I[0]-(A[0]+a))/(A[2]-2*a)),Math.min(1,Math.max(0,I[1]-(A[1]+a))/(A[3]-2*a))]):a=r&&r.updatePosition();if(a&&x&&x.detailSize){var b=[x.detailSize[0]-x.rect.width,x.detailSize[1]-x.rect.height];g.capabilities.rtl?x.detailImage.get(0).style.right=-(a[0]*b[0])+"px":x.detailImage.get(0).style.left=
-(a[0]*b[0])+"px";x.detailImage.get(0).style.top=-(a[1]*b[1])+"px"}}function F(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function v(a){var f=R?a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]:"";I=R?[f.pageX,f.pageY]:[a.pageX,a.pageY];if(g.capabilities.rtl){var c=b(q).width();I=R?[c-f.pageX,f.pageY]:[c-a.pageX,a.pageY]}}function p(a){R&&a.preventDefault();v(a);k.useClickZoom?a=[A[0],A[1],A[0]+A[2],A[1]+A[3]]:(a=r?r.offset:n.offsetParent().offset(),a=C.acEnabled?
[a.left,a.top,f.width()+a.left,f.height()+a.top]:[z[0]+a.left,z[1]+a.top,z[0]+z[2]+a.left,z[1]+z[3]+a.top]);I[0]<a[0]||I[1]<a[1]||I[0]>=a[2]||I[1]>=a[3]||C.acEnabled&&!F(n)?(k.fadeMagnifier?U||(U=!0,ca=setTimeout(function(){y(!0)},500)):k.useClickZoom||y(),B&&(B=!1,clearTimeout(V))):(B||(B=!0,V=setTimeout(function(){e.postCountMetric("dppc_hoverZoomOpened");l.isEnabled&&c.logHoverZoomRequestServed(l)},1E3)),k.fadeMagnifier&&U&&(U=!1,clearTimeout(ca)),D())}function y(a){a&&t.suppressMagnifier(!0);
if(Q&&(x&&x.hide(),r&&(r.destroy(),r=null),Q=!1,R?(n.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),b(document).trigger("disengaged.magnifier")):b(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),G(),a))n.one("click.magnifier touchstart.magnifier",function(a){E(a,!0)})}function E(a,c){c&&t.suppressMagnifier(!1);if(!Q&&!ba&&(0===fa&&(e.postCountMetric("dppc_hoverTime",new Date-(q.ue&&q.ue.t0||0)),fa=1),K[aa]||(e.postCountMetric("dppc_hoverMain"),K[aa]=
1),z=[n.position().left,n.position().top,n.width(),n.height()],aa&&(v(a),x?x.refit().show():x=new P,k.useClickZoom||(r=r||new w),A=x.getWindowSize(),D()),Q=!0,R?(n.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",p).bind("touchend.magnifier",y),b(document).trigger("engaged.magnifier")):(C.acEnabled?f.unbind("mousemove.magnifier"):n.unbind("mousemove.magnifier"),b(document).trigger("engaged.magnifier").bind("mousemove.magnifier",p)),c)){var d=b("#zoomWindow");if(0<d.length)d.one("click.magnifier touchend.magnifier",
function(a){y(!0)})}}function G(){k.useHoverZoom&&(R?n.bind("touchstart.magnifier touchmove.magnifier",E):C.acEnabled?F(n)&&f.bind("mousemove.magnifier",E):n.bind("mousemove.magnifier",E))}var t=this,f=n.offsetParent(),m={detailImageUrl:n.attr("data-old-hires"),location:"over",locationElement:n,prelaod:"ready",zIndex:50,offsetInClickZoom:50};k=b.extend(m,k);k.adjustment=[10,0,-10,0];var x=null,r=null,I=null,z=null,A=null,M={"null":1,"":1,undefined:1},Q=!1,ba=!1,aa=k.detailImageUrl,R=k.useHoverZoomIpad||
0,fa=0,K={},w=function(){function a(b){var f=Math.round(Math.min(n.width(),x.rect.width/b));b=Math.round(Math.min(n.height(),x.rect.height/b));e.css({width:f,height:b});c=[f,b]}var f=this,c=[0,0],d=(x.detailSize&&x.detailSize[0]||5E8)/z[2],m=(x.detailSize&&x.detailSize[1]||5E8)/z[3],d=m>d?m:d;b("#magnifierLens").remove();var e=b("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});k.generalImageUrls.zoomLensBackground&&e.css({backgroundImage:"url("+k.generalImageUrls.zoomLensBackground+
")"});C.showMagnifierOnHover?h(e):e.css("cursor","pointer");f.updatePosition=function(){var a=[z[2]-c[0],z[3]-c[1]],b=0>=a[0]?.5:Math.max(0,Math.min(1,(I[0]-c[0]/2-z[0]-f.offset.left)/a[0])),d=0>=a[1]?.5:Math.max(0,Math.min(1,(I[1]-c[1]/2-z[1]-f.offset.top)/a[1])),m=z[0]+Math.round(b*a[0]),a=z[1]+Math.round(d*a[1]);e.get(0).style.left=m+"px";e.get(0).style.top=a+"px";return[b,d]};f.destroy=function(){e.remove()};f.offset=n.offsetParent().offset();a(d);f.updatePosition();e.appendTo(n.parent());x.detailImage[0].complete||
x.detailImage.load(function(){var b=x.detailImage.width()/z[2];a(b);f.updatePosition()})};w.preload=function(){t.preload(k.generalImageUrls.lensBackgroundUrl)};var P=function(){function f(){var c={};if("over"===k.location){var c=k.useClickZoom,d={},h=b("#leftCol"),l=b("#centerCol"),x=b("#rightCol"),p=b("#hover-zoom-end"),r=b("#actionPanelContainer"),v=a.isjQueryObjDefined(h)?h.outerHeight():l.outerHeight();d.top=a.isjQueryObjDefined(h)?h.offset().top:l.offset().top;d.bottom=v+d.top;d.right=a.isjQueryObjDefined(x)?
x.offset().left:r.offset().left;d.left=c?0:h.offset().left+h.outerWidth();a.isjQueryObjDefined(p)&&p.offset().top>d.bottom&&(d.bottom=p.offset().top);c=d}else"right"===k.location&&(c=n.offset(),c={left:c.left+n.outerWidth(),top:c.top,right:c.left+n.outerWidth()+400,bottom:c.top+400});k.minHeightElement&&(c.bottom=Math.max(c.bottom,c.top+b(k.minHeightElement).outerHeight()));c.bottom=Math.min(c.bottom,b(q).scrollTop()+b(q).height());c.left+=e[0];c.top+=e[1];c.right+=e[2];c.bottom+=e[3];c.width=c.right-
c.left;c.height=c.bottom-c.top;k.enhancedHoverOverlay&&a.isDefined(q.pageXOffset)&&(d=b(q).width(),c.width=d-c.left+q.pageXOffset-18,c.height-=14);g.css({left:c.left,top:c.top,width:c.width,height:c.height});m.rect=c;return m}function c(a){var b=new Image;m.detailSize=[0,0];b.onload=function(){m.detailSize=[b.width,b.height];D()};b.src=a.attr("src");if(0<b.width&&0<b.height)m.detailSize=[b.width,b.height];else if(k.detailImageSize)m.detailSize=k.detailImageSize;else{a=d(b.src);var f=z[2]/z[3];a.SS||
a.AA?(a=a.SS||a.AA,m.detailSize=[a,a]):a.SX?m.detailSize=[a.SX,Math.round(a.SX/f)]:a.SY?m.detailSize=[Math.round(a.SY*f),a.SY]:a.SL&&(m.detailSize=1<=f?[a.SL,Math.round(a.SL/f)]:[Math.round(a.SL*f),a.SL])}}var m=this,e=k.adjustment;b("#zoomWindow").remove();var h={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:k.zIndex};k.enhancedHoverOverlay&&(h.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",h.border="1px solid #949494",h.borderColor="rgb(148,148,148)");var g=b("\x3cdiv id\x3d'zoomWindow' /\x3e").css(h);
k.fadeMagnifier&&g.fadeIn(200);k.useClickZoom&&(N?g.css("cursor",'url("'+k.zoomOutIcon+'"), auto'):(g.css("cursor","-webkit-zoom-out"),g.css("cursor","-moz-zoom-out"),g.css("cursor","zoom-out")));m.updateImage=function(a){a=b("\x3cimg id\x3d'detailImg' src\x3d'"+a+"'/\x3e").css("position","absolute");m.detailImage&&m.detailImage.remove();g.append(a);b(document).trigger("updated.magnifier");m.detailImage=a;c(m.detailImage)};m.refit=function(){f();c(m.detailImage);return m};k.fadeMagnifier?(m.show=
function(){g.fadeIn(200);return m},m.hide=function(){g.fadeOut(200);return m}):(m.show=function(){g.show();return m},m.hide=function(){g.hide();return m});m.destroy=function(){g.remove();return m};m.getWindowSize=function(){return[m.rect.left,m.rect.top,m.rect.width,m.rect.height]};m.updateImage(aa);f();g.appendTo(document.body)},U=!1,ca,B=!1,V;t.preload=function(a){a=b.makeArray(a);for(var c=a.length,f=0;f<c;f++)a[f]instanceof Array?t.preload(a[f]):"string"===typeof a[f]&&a[f]&&!M[a[f]]&&(M[a[f]]=
new Image,M[a[f]].src=a[f])};t.changeImage=function(a,c){Q&&y();aa=c;n.attr("src",a);t.preload(a);z=[n.position().left,n.position().top,n.width(),n.height()];c&&("immediately"===k.preload?t.preload(c,!0):b(q).ready(function(){t.preload(c)}),x?x.updateImage(c):n.attr("data-old-hires",c))};t.destroy=function(){C.acEnabled?f.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):n.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");b(document).unbind("mousemove.magnifier");
r&&r.destroy();r=null;x&&x.destroy();x=null};t.detailImage=function(){return x.detailImage};t.suppressMagnifier=function(a){ba=a};t.isEngaged=function(){return Q};t.engageMagnifier=E;t.disengageMagnifier=y;n[0].complete?G():n.one("load",G);t.preload(n.attr("src"));q.performance&&performance.now&&q.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(k.preload){var ja=k.detailImageUrl,m=function(){t.preload(ja,!0);k.useClickZoom||w.preload()},X=k.preload;X.constructor!==Array&&(X=
[X]);for(var u=0;u<X.length;u++)if("immediately"===X[u])m();else if(b(q)[X[u]])b(q)[X[u]](m);else b(q).bind(X[u],m)}return t}function G(){if(C.useHoverZoom){var d={adjustment:[0,0,1,1],generalImageUrls:C.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:199,useHoverZoomIpad:C.useHoverZoomIpad,useHoverZoom:C.useHoverZoom,useClickZoom:C.useClickZoom,fadeMagnifier:C.fadeMagnifier,zoomOutIcon:C.staticImages.zoomOutCur,enhancedHoverOverlay:C.enhancedHoverOverlay||C.atfEnhancedHoverOverlay};
z&&(z.destroy(),z=Z);var e=w.find(".image.item.selected:not(.mirai-shoppable-scene) img[data-old-hires]").not("[data-old-hires\x3d'']");a.isjQueryObjDefined(e)?C.useClickZoom?(e.one("click.loadmagnifier touchstart.loadmagnifier",function(a){z=new n(e,d);z.engageMagnifier(a,!0)}),N?e.css("cursor",'url("'+C.staticImages.zoomInCur+'"), auto'):(e.css("cursor","-webkit-zoom-in"),e.css("cursor","-moz-zoom-in"),e.css("cursor","zoom-in"))):z=new n(e,d):l.isEnabled&&c.logHoverZoomApplicability(b,l)}}var I,
C,K,A,z,w,N=navigator.userAgent.match(/msie|trident/i);return function(a,b,c,d){I=this;C=a;K=b;l.refToModel=K;A=d;I.render=function(a,b,c,d,e,h){w=c;z&&(z.destroy(),z=Z)};I.update=function(a){};A.register("loadMagnifier",G);A.register("resize",G)}});"use strict";w.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(g,b,a,e){function l(b,c,h){b=(b=h?h:a.getColorFromState(c.getState().hovered_variations,d))&&""!==b?b:d.defaultColor;G.dispatch("updateView",{type:"swatchHover",
data:{color:b}});e.postCountMetric("swatchHover")}function c(b,c,h,g){b=(b=g?g:a.getColorFromState(c.getState().selected_variations,d))&&""!==b?b:d.defaultColor;b===n.getCurrentItem().color?"function"===typeof h&&h():(G.dispatch("updateSelection",{type:"swatchClick",data:{color:b},onload:function(){var a={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof q.markFeatureRender&&q.markFeatureRender("imageblock",a);h()}}),e.postCountMetric("swatchClick"))}var h,d,n,G;return function(a,
b,e,A){h=this;d=a;n=b;G=A;g.on("image-block-twister-swatch-hover",l);g.on("image-block-twister-swatch-click",c);h.render=function(a,b,c,d,e){};h.update=function(a){}}});"use strict";w.when("A","jQuery","Airy","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",function(g,b,a,e,l,c,h){function d(a,c,f,d){!k.autoplayVideo||Y||k.useChromelessVideoPlayer?!e.isjQueryObjDefined(a.find(".a-button-selected"))&&(f=D.getCurrentItem(),!d||k.prioritizeVideos||
"chromeless-video"===f.type&&k.autoplayVideo)&&(d=e.getVideoHash(f.color,0,k),-1!==d&&(c+=0,F.dispatch("updateModel",{data:{index:0,thumbnailIndex:c,variant:d.variant,type:k.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),c=a.find(".item").get(c),e.selectGivenThumbnail(b(c),a))):(e.selectGivenThumbnail(a.find("img:last"),a),e.fadeToThumbnail(a.find("img").length-1,E,a))}function n(a){var b=D.getCurrentItem().color;if(k.useChildVideos&&!k.colorToVideo[b]){var c=function(){if(a){k.colorToVideo[b]=
a;var c={type:"updatedData",data:D.getCurrentItem()};F.dispatch("updateView",c)}};k.lazyLoadExperienceDisabled?c():w.when(e.rankedImagesReadyEvent(k.colorToAsin[b].asin)).execute(function(){c()})}}function G(a){if(!k.useChildVideos)return e.lazyLoadingRequired(D.getCurrentItem(),D,k)?void 0:k.videos;if(k.colorToVideo[a])return k.colorToVideo[a];var b=k.colorToAsin[a];if(b&&b.asin){var c={};c.params={asin:b.asin,productGroupID:k.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:k.useChromelessVideoPlayer,
isUDP:k.isUDP};k.isDPXFeatureEnabled||(c.success=function(a){n(a)},l.load("/gp/product/features/apparel-main-image/videos.html",c));return k.colorToVideo&&k.colorToVideo[a]}}function q(){F.dispatch("selectThumbnail",e.useTabbedImmersiveView(k)?1:0)}function C(f,d,m,h){return a.embed({isShowFirstFrameWhenReadyEnabled:!0,parentElement:f[0],streamingUrls:d.url,swfUrl:m.swfUrl,foresterMetadataParams:m.foresterMetadataParams,backgroundColor:"transparent",flashParams:{wmode:"transparent"},experiments:{supportChromelessPlayback:!0},
bindings:{canplay:function(){var a=e.isjQueryObjDefined(f.find("video"))?"HTML5":"FLASH";c.postCountMetric("dppc_chromelessVideo:"+a)},playing:function(){f.parent().css("z-index",8)},videounsupported:function(){q();c.postCountMetric("dppc_chromelessVideo:VIDEO_UNSUPPORTED")},error:function(){q();c.postCountMetric("dppc_chromelessVideo:ERROR")},ended:function(){t.seek(0)}},cuePoints:[{values:d.durationSeconds-1,type:"position",callback:function(a,c,d){a=d.durationSeconds-d.playheadTimeSeconds;f.parent().css("background-color",
"white").find(".airy-renderer-container").fadeTo(1E3*a,.1,function(){f.parent().css({"background-color":"transparent","z-index":-1});q();b(this).show().css("opacity",1)})}}]})}function K(a){if("chromeful-video"===a.type||"chromeless-video"===a.type){var c=e.getVideoHash(a.color,a.index,k);if(-1===c)return-1;if("chromeful-video"===a.type){a=E.width()/E.height();var d=parseInt(c.videoWidth,10),h=parseInt(c.videoHeight,10);e.updateAspectRatio(a,d,h,p);t?(t.show(),e.loadMediaIntoAiry(t,c,f,k.tabletWeb)):
t=k.tabletWeb?r:e.createAiryInstanceForChromeful(p,c,f,null,k.autoplayVideo,E,y,v);b:if(e.useTabbedImmersiveView(k)){if(1<e.getVideosCount(D.getCurrentItem().color,k)){if(e.isDefined(J)){y.show();break b}J=b('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(k.staticStrings.watchMoreVideos);y.find("#videoCaption").append(J);g.declarative.create(J,"videoIngressClick",m)}e.playVideoInImmersiveView(k,D.getCurrentItem().color)&&(g.declarative.create(p,"videoIngressClick",m),p.attr&&p.attr("data-ux-click",
""),p.children().css("z-index","-1"),p.css("display","inline-block"))}else y.find("#videoCaption").text(k.staticStrings.playVideo),y.show();c=t;k.autoplayVideo&&c&&!Y&&(e.toggleVideoCaption(y),c.setVolume(0),c.show(),c.play(),Y=!0)}else t?(t.show(),e.loadMediaIntoAiry(t,c,f,k.tabletWeb),t.play(),y.show()):(t=C(p,c,f))&&t.play()}}function A(a,f,h){var l=G(f);f=a;var x=e.isDefined(l)&&0<l.length&&k.alwaysIncludeVideo?1:0;e.isDefined(l)&&0<l.length&&!k.alwaysIncludeVideo&&a===k.maxAlts&&c.postCountMetric("IBVideoDrop");
x&&a===k.maxAlts&&(v.find(".item:last").remove(),a--);e.isDefined(l)&&(b.each(l,function(f,d){if(a<k.maxAlts){var h=k.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",g={type:h,index:f,thumbnailIndex:a,variant:d.variant};m={type:"video-ingress",index:f,thumbnailIndex:a,variant:d.variant};e.useTabbedImmersiveView(k)&&("chromeful-video"===h&&(H+=" videoBlockIngress  videoBlockDarkIngress",d.thumb=d.thumb.replace("_PKmb-play-button-overlay-thumb","")),k.altsOnLeft||(H+=" a-align-top"));
e.createThumbnail(g,d.thumb,v,H);if(2===k.dp60VideoPosition){var x=v,g=k.dp60VideoPosition;if(0!==g){var n=x.children(".imageThumbnail"),x=x.children(".videoBlockIngress");n&&x&&n[g-1]&&b(n[g-1]).before(x[0])}}e.useTabbedImmersiveView(k)&&(z(v.find(".videoBlockIngress img"),k.videoIngressATFSlateThumbURL),g=1<l.length?"multiple-videos":"one-video",(n=1<l.length?l.length+" "+k.staticStrings.multipleVideos:k.staticStrings.singleVideo)&&v.find(".videoBlockIngress").append(v.find("#videoCount_template").clone().text(n).attr("id",
"videoCount")).addClass(g));T||(T=!0,c.postCountMetric("chromeless-video"===h?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"));a++}if(e.useTabbedImmersiveView(k))return!1}),d(v,f,a,h),k.imageBlockRenderingStartTime&&c.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",g.now()-k.imageBlockRenderingStartTime));return a}function z(a,b){var c=a.attr("src");if(c&&b){a.attr("src",b);var f=new Image;f.onload=function(b){a.attr("src",c)};f.src=c}}function P(a){t&&t.pause();a.data=
m;a.clickTimeStamp=a.$event.timeStamp;var b="a"===a.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";F.dispatch("imageClick",a);c.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp);c.postCountMetric(b)}function N(a){r=a.player;r.hide=function(){r.pause();g.$("#main-video-container").find(".vse-player-container").hide()};r.show=function(){g.$("#main-video-container").find(".vse-player-container").show();r.play()};r.getMediaSourceInfo=function(){return e.getMediaSourceInfo()}}
var L,k,D,F,v,p,y,E,J,t,f,m,x,r,T=!1,Y=!1,H="videoThumbnail";return function(a,d,l,r){L=this;k=a;D=d;F=r;f=k.airyConfig;k.colorToVideo={};k.colorToVideo[k.landingAsinColor]=k.colorToVideo[k.defaultColor]=k.videos;L.render=function(a,c,f,d,m,l){v=d;p=m.find("#main-video-container");y=p.parent().find("#video-canvas-caption");E=b("#main-image-container");k.useChromelessVideoPlayer||p.addClass("chromeful-container");x=A(c,a,l);K(D.getCurrentItem());e.useTabbedImmersiveView(k)&&g.declarative("videoIngressClick",
["click"],P);a=D.getCurrentItem().color;c=e.getVideoHash(a,0,k);-1!==c&&k.tabletWeb&&(a=e.getNilgiriServiceAjaxRequest(k,a,c),h.get(g,"#main-video-container",a,function(){g.$("#main-video-container").find(".vse-player-container").hide()},function(){g.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}));return x};L.update=function(a){var b=a.data;"ingress"!==b.type&&t&&(t.hide(),p.parent().css("z-index",-1),y.hide());if("swatchHover"===a.type)b.color===D.getCurrentItem().color?K(D.getCurrentItem()):
a.captured||e.lazyLoadingRequired(b,D,k)&&!e.lazyLoadOnHoverEnabled(k)&&K(D.getCurrentItem());else if("chromeful-video"===b.type||"chromeless-video"===b.type)"mouseenter"===a.type&&c.postCountMetric("dpcc_videoThumbHovered_"+(b.thumbnailIndex+1)+"_"+x),K(b),k.usePeekHover&&"click"!==a.type||(e.selectGivenThumbnail(a.$declarativeParent,v),"click"===a.type&&e.useTabbedImmersiveView(k)&&(c.postCountMetric("dpcc_videoThumbClicked_"+(b.thumbnailIndex+1)+"_"+x),m.action="videoIngressClick",m.clickTimeStamp=
a.$event.timeStamp,m.$event=a.$event,m.$currentTarget=a.$currentTarget,F.dispatch("videoIngressClick",m),c.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp)))};if(k.isDPXFeatureEnabled)g.on("triggerVideoAjax",n);g.on("vsePlayer-imageblock_tablet",N)}});"use strict";w.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(g,b,a,e,l,c,h,d){function n(a){return a.hiRes||
a.large||a.main[a.main.length-1]}function G(){u.find("#ivTitle").click(function(){X.hide()})}function I(){O=Pa?{type:"360-spin"}:V.getCurrentItem()}function C(){var a=u.find("#ivStage"),b=X.$container.find(".a-popover-wrapper"),c=b.find(".a-popover-inner"),b=b.height()-d.getDimension(c,"padding-top")-d.getDimension(c,"padding-bottom");u.css("height",b);var c=u.find("#ivTitle").outerHeight(!0),f=u.find("#ivVariationSelection").outerHeight(!0),m=u.find("#ivMediaSelection").outerHeight(!0),e=u.find("#ivThumbs"),
h=d.getDimension(e,"margin-top")+d.getDimension(e,"margin-bottom");e.css("height",b-c-f-m-h);u.find("#ivLargeImage").css("height",b);a.css("width",u.width()-d.getDimension(u,"padding-left")-d.getDimension(u,"padding-right")-u.find("#ivThumbColumn").width()-d.getDimension(a,"margin-left")-d.getDimension(a,"margin-right"))}function K(){u.find("#ivMediaSelect").change(function(){var a=b(this).val();"all"===a?(u.find("#ivVideoList").hide(),u.find("#ivThumbs").show(),u.find(".ivThumbVideo").show(),"chromeful-video"===
O.type&&u.find("#ivVideo_"+O.index).click()):"images"===a?(u.find("#ivVideoList").hide(),u.find("#ivThumbs").show(),u.find(".ivThumbVideo").hide(),"chromeful-video"===O.type&&(0===da&&0===W?u.find("#iv360").click():0===da?u.find("#ivHeroImage_0").click():u.find("#ivImage_0").click())):"videos"===a&&(u.find("#ivVideoList").show(),u.find("#ivThumbs").hide(),"chromeful-video"!==O.type?u.find("#ivVideoList_0").click():u.find("#ivVideoList_"+O.index).click())})}function A(){var a=u.find("#ivStage").find("#ivLargeImage"),
b=a.width(),c=a.height(),f=a.find(".fullscreen");f.removeAttr("style");var d=f.width(),m=f.height();0<f.length&&(f[0].naturalWidth&&(d=f[0].naturalWidth),f[0].naturalHeight&&(m=f[0].naturalHeight));a.css("cursor","auto");var d=0===d?1:d,m=0===m?1:m,e=Math.min(b/d,c/m),h=m*e,g=d*e;1>e?(Qa?a.css("cursor","url('"+B.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),za=!0):za=!1;d=Math.min(g,d);m=Math.min(h-20,m);f.css({"margin-top":(c-
m)/2,"margin-left":(b-d)/2,height:m,width:d});a.css("visibility","visible");Aa=!1}function z(a){var b=u.find("#ivLargeImage");b.css("visibility","hidden");b.empty();d.animateStageIn(b);b.append(a);A()}function P(){ea&&ea.pause();u.find("#ivLarge360").css("display","none");u.find("#ivLargeVideo").css("display","none");u.find("#ivLargeImage").css("display","none");p()}function N(c){P();u.find("#ivLargeImage").css("display","block");var f;"hero-image"===c?a.isDefined(ha)&&(f=n(ha[O.index])):a.isDefined(ia)&&
(f=n(ia[O.index]));if(a.isDefined(f)){u.find(".fullscreen").remove();var m=b("\x3cimg\x3e").attr("src",f).addClass("fullscreen"),e=u.find("#ivLargeImage");d.animateStageOut(e,function(){m.load(function(){z(m)});if(m[0].complete)z(m);else{e.empty();var a=(e.height()-104)/2,c=(e.width()-80)/2;b("\x3cimg\x3e").attr("src",B.staticImages.spinner).css({position:"relative",top:a+"px",left:c+"px"}).appendTo(e)}})}}function L(){var a=parseInt(O.index,10)+1;a>=ga.length||u.find("#ivVideo_"+a).click()}function k(){var b;
a.isDefined(ga)&&(b=ga[O.index]);if(a.isDefined(b)){P();var c=u.find("#ivLargeVideo").css("display","block");ea?(ea.isDetached()&&ea.attach(c[0]),a.loadMediaIntoAiry(ea,b,wa,B.tabletWeb),ea.show()):(ea=a.createAiryInstanceForChromeful(c,b,wa,"ImmersiveView"),wa.enableContinuousPlay&&ea.bind("ended",L));ea.play({isAsync:!0})}}function D(){I();var b;b="hero-image"===O.type?u.find("#ivHeroImage_"+O.index):"image"===O.type?u.find("#ivImage_"+O.index):"chromeful-video"===O.type||"chromeless-video"===O.type?
u.find("#ivVideo_"+O.index):"360-spin"===O.type?u.find("#iv360"):a.isDefined(ha)?u.find("#ivHeroImage_"+O.index):u.find("#ivImage_"+O.index);a.isjQueryObjDefined(b)||(b=u.find("#ivImage_0"));F(b)}function F(a){u.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivThumbVideo")?(O.type="chromeful-video",O.index=a.attr("id").split("_")[1],k()):a.hasClass("ivHeroImage")?(O.type="hero-image",O.index=a.attr("id").split("_")[1],N(O.type)):a.hasClass("iv360Image")?(O.type="360-spin",
O.index=0,v()):(O.type="image",O.index=a.attr("id").split("_")[1],N(O.type))}function v(){P();u.find("#ivLarge360").css("display","block");f();var a=u.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});d.animateStageIn(a)},200);E();l.postCountMetric("dppc_click360");sa=Date.now()}function p(){0<sa&&(y("dppc_duration360",Date.now()-sa),sa=0)}function y(a,b){q.ue&&q.ue.count(a,b)}function E(){if(0<pa){var a=u.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},
200)}}function J(a,c){if(pa<a.length){var f=b("\x3cimg /\x3e").css({display:"block",width:6*na+"px",height:ra+"px"});f.hide();c.append(f);f.get(0).onload=function(){c.closest(document.documentElement).length&&(pa++,1===pa&&(E(),0<sa&&y("dppc_loadTime360",Date.now()-sa)),0<Ga&&y("dppc_perSpriteloadTime360",Date.now()-Ga),u.find("#iv360Spinner").hide(),f.show(),xa=5*S.imageLocations[Math.floor(ya/S.imageLocations[0].length)][ya%S.imageLocations[0].length],J(a,c))};f.attr("src",a[pa].replace(/(\._SP)\d+(,)\d+/,
"$1"+ta+"$2"+ua));Ga=Date.now()}}function t(b){if(a.isDefined(S.spriteWidthSizes)&&0<S.spriteWidthSizes.length){var c=S.spriteWidthSizes,f=c.length,d=c[0],m=c[f-1];if(b<=d)return d;if(b>m)return m;for(d=0;d<f;d++)if(b>c[d]&&b<=c[d+1])return c[d+1]}else return b}function f(){var a=u.find("#ivLarge360");a.children("#image-360-sprites").length||(a.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),a.css({"margin-left":0,"margin-top":0,width:a.parent().width(),height:a.parent().height(),overflow:"hidden",
position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),b("\x3cimg\x3e").attr("src",B.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(a),Ha=!0,m())}function m(){if(a.isDefined(S.spriteURLs)&&a.isDefined(u)&&Ha&&!Ia){var c=u.find("#ivLarge360"),f=b("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,
display:"block"});a.isDefined(S.staticImages.hint360)&&b("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",S.staticImages.hint360).appendTo(f);b("\x3cdiv\x3e").css({"text-align":"center"}).text(B.staticStrings.dragToSpin).appendTo(f);f.appendTo(c);var f=S.imageWidth,d=S.imageHeight,m=c.parent().width(),e=c.parent().height(),h=0,g=0;f/d>m/e?(ta=t(m),ua=Math.round(d/f*ta),na=Math.ceil(m),ra=Math.ceil(ua/ta*m),g=(e-ra)/2):(ua=t(e),ta=Math.round(f/d*ua),ra=Math.ceil(e),
na=Math.ceil(ta/ua*e),h=(m-na)/2);c.css({"margin-left":h,"margin-top":g,width:na+"px",height:ra+"px",overflow:"hidden",position:"relative"});c.children("#image-360-sprites").css("width",6*na+"px");J(S.spriteURLs,u.find("#image-360-sprites"),0);f=u.find("#ivLarge360");f.bind("mousedown",Y);f.bind("touchstart",x);f.bind("touchmove",r);f.bind("touchend",T);b(document).bind("mousemove",H);b(document).bind("mouseup",M);a.isDefined(B.staticImages.grab)&&c.css("cursor","url('"+B.staticImages.grab+"'), auto");
Ia=!0}}function x(a){Ba=!0;Ja=a.originalEvent.targetTouches[0].clientX}function r(a){Ba&&(Q(a.originalEvent.targetTouches[0].clientX-Ja),Ja=a.originalEvent.targetTouches[0].clientX)}function T(a){Ba&&(Ba=!1)}function Y(b){Ca=!0;Ka=b.originalEvent.clientX;a.isDefined(B.staticImages.grabbing)&&(b=u.find("#ivLarge360"),b.css("cursor","url('"+B.staticImages.grabbing+"'), auto"),b.parents(".a-declarative").last().css("cursor","url('"+B.staticImages.grabbing+"'), auto"));return!1}function H(a){Ca&&(Q(a.originalEvent.clientX-
Ka),Ka=a.originalEvent.clientX)}function M(b){Ca&&(Ca=!1,a.isDefined(B.staticImages.grab)&&(b=u.find("#ivLarge360"),b.css("cursor","url('"+B.staticImages.grab+"'), auto"),b.parents(".a-declarative").last().css("cursor","auto")))}function Q(b){for(b=xa-=b/na*180;0>b;)b+=360;for(;360<b;)b-=360;xa=b;var c;b=360;for(var f=0;f<pa;f++)for(var d=0;d<S.imageLocations[f].length;d++){var m=Math.abs(xa-5*S.imageLocations[f][d]);m<b&&(b=m,c=f*S.imageLocations[0].length+d)}c!==ya&&(b=Math.floor(c/S.imageLocations[0].length),
b!==Math.floor(ya/S.imageLocations[0].length)&&(a.isDefined(La)||(La=document.createElement("canvas").getContext("2d")),f=u.find("#image-360-sprites").children(),La.drawImage(f[b],0,0)),b=u.find(".iv360Hint").not(".iv360HintFaded"),a.isDefined(b)&&(b.addClass("iv360HintFaded"),b.animate({opacity:0},750)));ya=c;b=c%S.imageLocations[0].length*-1*na;c=-1*Math.floor(c/S.imageLocations[0].length)*ra;f=u.find("#ivLarge360").children("#image-360-sprites");f.css("-webkit-transform","translate3d("+b+"px, "+
c+"px, 0)");f.css("transform","translate3d("+b+"px, "+c+"px, 0)")}function ba(){u.delegate(".ivThumb","click",function(){var a=b(this);F(a)});u.delegate(".ivThumbVideoListOuter","click",function(){u.find(".ivThumbVideoListOuter").removeClass("selected");var a=b(this);a.addClass("selected");O.type="chromeful-video";O.index=a.attr("id").split("_")[1];k()})}function aa(){ea&&!ea.isDetached()&&(wa.volume=ea.getVolume(),ea.detach(),!document.all||q.atob||document.addEventListener||(ea=null));u.find("#ivLargeImage").empty();
p()}function R(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function fa(a){var c=qa.left-(a.pageX-Da[0])*Ea;g.capabilities.rtl&&(c=qa.left-(b(q).width()-a.pageX-Da[0])*Ea);a=qa.top-(a.pageY-Da[1])*Ea;c=R(c,Fa.left);a=R(a,Fa.top);u.find(".fullscreen").css({left:c,top:a})}function va(){u.delegate("#ivLargeImage","click",function(a){if(Aa)A();else if(za){u.find(".fullscreen").removeAttr("style");if(za){var b=u.find("#ivLargeImage"),c=b.find(".fullscreen");Qa?b.css("cursor","url('"+B.staticImages.zoomOut+
"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));Aa=!0;var f=u.find("#ivLargeImage");Fa.left=f.width()-c.width();Fa.top=f.height()-c.height();var f=b.height()/2,d=b.width()/2;Da=[b.offset().left+d,b.offset().top+f];qa.top=f-c.height()/2;qa.left=d-c.width()/2;c.css({position:"relative",left:qa.left,top:qa.top});Ea=Math.max(c.height()/b.height(),c.width()/b.width())}fa(a)}});u.delegate("#ivLargeImage","mousemove",function(a){Aa&&fa(a)})}function ka(f){if(a.isImmersiveViewEnabled(B,
V.getCurrentItem().color))if(Ma){var m=f.$event.originalEvent;m.acknowledge&&m.acknowledge(f.$currentTarget[0]);Pa=a.isDefined(f)&&"button-360-click"===f.action;c.isEnabled&&h.logImmersiveViewRequestServed(c);l.postCountMetric("dppc_immersiveViewOpened");if(a.isDefined(X))X.show();else{f=b("#auiImmersiveViewDiv");var m=b(q).height()-150,e=b(q).width()-75;X=Ma.create(f,{name:"immersiveView",activate:"onclick",width:e,height:m,popoverLabel:"ImmersiveView",hideHeader:!0});f.click()}if(Na){u=b("#ivMain");
f=V.getCurrentItem().color;ia=B.colorImages[f];ha=B.heroImage[f];ga=B.useChildVideos?B.colorToVideo[f]:B.videos;Oa=U()&&B.spin360ColorEnabled[f];S=U()?B.spin360ColorData[f]:Z;I();la=W=oa=da=0;a.isDefined(ha)&&(W=ha.length);a.isDefined(ia)&&(da=ia.length);a.isDefined(ga)&&(oa=ga.length);Oa&&(la=1);d.populateTitle(u.find("#ivTitle"),45,B);d.populateVariationSelection(u.find("#ivVariationSelection"));f=u.find("#ivMediaSelect");0===da+la||0===oa?(f.parent().hide(),u.find("#ivThumbs").addClass("noMediaSelection")):
(f.empty(),b("\x3coption/\x3e").attr("value","all").prop("selected",!0).text(B.staticStrings.allMedia+" ("+(W+da+la+oa)+")").appendTo(f),b("\x3coption/\x3e").attr("value","images").text(B.staticStrings.images+" ("+(W+da+la)+")").appendTo(f),b("\x3coption/\x3e").attr("value","videos").text(B.staticStrings.videos+" ("+oa+")").appendTo(f),f.parent().show(),f.val("all"));f=u.find("#ivThumbs");f.find(".ivRow").not(".placeholder").remove();for(var m=W+da+oa+la,k=e=0;e<m;)for(var x=f.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(f),
n=0;3>n&&e<m;n++,e++,k++)if(k<W){var p=ha[e].thumb,r=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+e).appendTo(x);r.find(".ivThumbImage").css("background",'url("'+d.getResizedThumbnailURL(p)+'") center no-repeat')}else if(k>=W&&k<da+W)p=ia[e-W].thumb,r=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(e-W)).appendTo(x),r.find(".ivThumbImage").css("background",'url("'+d.getResizedThumbnailURL(p)+
'") center no-repeat');else if(k>=W+da&&k<da+W+la)r=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(x),r.find(".ivThumbImage").css("background",'url("'+(a.isDefined(B.staticImages.icon360)?d.getResizedThumbnailURL(B.staticImages.icon360,!0):"")+'") center no-repeat');else if(p=ga[e-da-W-la],r=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id","ivVideo_"+(e-da-W-la)).appendTo(x),r.find(".ivThumbImage").css("background",
'url("'+p.thumbUrl+'") center no-repeat'),a.isDefined(p)){var v={position:"triggerTop"},F=u.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");F.find(".ivVideoPopoverTitle").text(p.title);F.find(".ivVideoPopoverDuration").text(p.durationTimestamp);v.inlineContent=F[0];g.declarative.create(r,"a-tooltip",v)}f=u.find("#ivVideoList");f.find(".ivThumbVideoListOuter").not(".placeholder").remove();m=f.find(".placeholder");for(e=0;e<oa;e++)k=ga[e],x=m.clone().removeClass("placeholder").appendTo(f),
x.attr("id","ivVideoList_"+e),x.find(".ivThumbImage").css("background",'url("'+k.thumbUrl+'") center no-repeat'),x.find(".ivThumbTitle").text(k.title),x.find(".ivThumbDuration").text(k.durationTimestamp);u.find("#ivLarge360").empty();pa=0;Ia=Ha=!1;wa=B.airyConfig;Na=!1;Ra()}}else q.performance&&performance.now&&q.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else l.postCountMetric("immersiveViewNotExistsClickCount")}function ma(b){var c=
B.colorToAsin[b],f={},d=500;if(c&&c.asin){f.params={asin:c.asin};var h="360"+c.asin,g=Date.now();f.success=function(c){y("dppc_asyncRequestTime360",Date.now()-g);c&&a.isDefined(c.spin360.spin360Model)?(a.ajaxState(h,"success"),B.spin360ColorData[b]=c.spin360.spin360Model,b===V.getCurrentItem().color&&(S=B.spin360ColorData[b],m())):f.error()};f.error=function(){l.postCountMetric("dppc_asyncFailed360");y("dppc_asyncRequestTime360",Date.now()-g);d*=2;16E3>=d?setTimeout(function(){g=Date.now();e.load("/gp/product/features/apparel-main-image/360.html",
f)},d):a.ajaxState(h,"fail")};a.ajaxState(h)&&"fail"!==a.ajaxState(h)||(e.load("/gp/product/features/apparel-main-image/360.html",f),a.ajaxState(h,"sent"))}}function U(){return a.isDefined(B.spin360ConfigEnabled)&&B.spin360ConfigEnabled}var ca,B,V,ja,X,u,ha,ia,ga,W,da,oa,la,O,ea,wa,S,Oa,na,ra,ua,ta,Ka,Ja,Pa=!1,Ha=!1,Ia=!1,xa=0,ya=0,sa=0,Ga=0,Ca=!1,Ba=!1,pa=0,La,Qa=navigator.userAgent.match(/msie|trident/i),Na=!0,Aa=!1,za=!1,Fa={},qa={},Ea,Da,Ma;w.when("a-modal").execute(function(a){Ma=a});var Ra=
g.once(function(){K();ba();va();g.on("a:popover:afterUpdatePosition:immersiveView",C);g.on("a:popover:afterShow:immersiveView",D);g.on("a:popover:afterHide:immersiveView",aa);G()});return function(f,m,e,h){ca=this;B=f;V=m;c.refToModel=V;ja=h;U()&&(B.spin360ColorData[B.landingAsinColor]=B.spin360ColorData[B.defaultColor],B.spin360ColorEnabled[B.landingAsinColor]=B.spin360ColorEnabled[B.defaultColor]);a.isDefined(B.staticImages.icon360)&&b("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",
d.addStyleCodeToURL(B.staticImages.icon360,"_FMpng_RI_"));ca.render=function(b,c,f,d,m,e){Na=!0;U()&&B.spin360ColorEnabled[b]&&!a.isDefined(B.spin360ColorData[b])&&(B.spin360ColorData[b]={},ma(b));a.isImmersiveViewEnabled(B,V.getCurrentItem().color)&&U()&&B.spin360ColorEnabled[b]&&(c===B.maxAlts&&(b=d.find(".item.imageThumbnail"),f=d.find(".item.videoThumbnail"),a.isDefined(f)&&1<f.length?f.last().remove():b.last().remove(),c--),b=d.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),
g.declarative.create(b,"button-360-click"),d.append(b),c++,l.postCountMetric("dppc_display360"));return c};ca.update=function(a){};a.isImmersiveViewEnabled(B,V.getCurrentItem().color)||a.addTag("immersiveViewNotAvailable");ja.register("imageClick",ka);ja.register("button360Click",ka)}});"use strict";w.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(g,b,a,e,l,c,h){function d(){var a=
K.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),c=a.find(".a-popover-inner"),a=a.height()-h.getDimension(c,"padding-top")-h.getDimension(c,"padding-bottom");b("#iv-tab-view-container").css("height",a);P=b("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==b(this).css("display")}).length;1<P?(b("#iv-tab-view-container ul.iv-tab-views li").parent().show(),c=b("#iv-tab-view-container ul.iv-tab-views li").parent().height(),a-=c):b("#iv-tab-view-container ul.iv-tab-views li").parent().hide();
b("#iv-tab-view-container .iv-tab-content").css("height",a);g.trigger("dp:image-block:immersive-view:resize")}function n(){g.trigger("dp:image-block:immersive-view:reset")}function G(d){if(a.isImmersiveViewEnabled(C,K.getCurrentItem().color))if(L){var h=d.$event.originalEvent;h.acknowledge&&h.acknowledge(d.$currentTarget[0]);l.isEnabled&&c.logImmersiveViewRequestServed(l);e.postCountMetric("dppc_immersiveViewOpened");a.isDefined(d)&&("button-360-click"===d.action?b("#iv360TabHeading").click():"videoIngressClick"===
d.action?(N=d.clickTimeStamp,b("#ivVideosTabHeading").click()):"showroomIngressClick"===d.action?(N=d.clickTimeStamp,b("#ivShowroomTabHeading").click()):b("#ivImagesTabHeading").click());h=K.getImmersiveViewModalInstance();if(a.isDefined(h))h.show();else{d=b("#auiImmersiveViewDiv");var h=Math.min(Math.max(b(q).height()-150,540),1080),n=Math.min(Math.max(b(q).width()-75,990),1980),h=L.create(d,{name:"immersiveView",activate:"onclick",width:n,height:h,popoverLabel:"ImmersiveView",hideHeader:!0});K.setImmersiveViewModalInstance(h);
d.click()}z&&(z=!1,k(),g.trigger("dp:image-block:immersive-view:init"))}else q.performance&&performance.now&&q.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else e.postCountMetric("immersiveViewNotExistsClickCount")}var I,C,K,A,z=!0,P=0,N,L;w.when("a-modal").execute(function(a){L=a});var k=g.once(function(){g.on("a:popover:afterUpdatePosition:immersiveView",d);g.on("a:popover:afterShow:immersiveView",d);g.on("a:popover:afterHide:immersiveView",
n)}),D=g.once(function(){var a=b("#iv-tab-view-container ul.iv-tab-views li");a.bind("click",function(c){var d=a.filter(".iv-active");d.attr("id")!==b(this).attr("id")&&g.trigger("dp:ivTabs:"+d.find("a").attr("data-iv-tab-view")+":deselect",c);a.removeClass("iv-active");b(this).addClass("iv-active");b("#iv-tab-view-container .iv-tab-content").hide();d=b(this).find("a").attr("data-iv-tab-view");b("#"+d).show();"ivVideosTab"===d&&(c.clickTimeStamp=N||c.timeStamp);g.trigger("dp:ivTabs:"+d+":select",
c);e.postCountMetric("dppc_"+d);return!1})});return function(b,c,d,h){I=this;C=b;K=c;l.refToModel=K;A=h;I.render=function(a,b,c,f,d,h){e.postCountMetric("dpcc_altThumbs_"+b);z=!0};I.update=function(a){};I.getTitle=function(){};I.getVariationSelectionInfo=function(){};D();a.isImmersiveViewEnabled(C,K.getCurrentItem().color)||a.addTag("immersiveViewNotAvailable");A.register("imageClick",G);A.register("button360Click",G);a.useTabbedImmersiveView(C)&&(A.register("videoIngressClick",G),A.register("showroomIngressClick",
G))}});"use strict";w.when("A").register("ImageBlockLoader",function(g){return{load:function(b,a){a=a||{};a.timeout=a.timeout||4E3;g.ajax(b,a)}}});"use strict";w.when("A","jQuery","Airy","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric").register("imageBlockUtils",function(g,b,a,e,l,c,h,d){function n(a){return null!==a&&"undefined"!==typeof a}function G(a){var c=0;b.each(a,function(a,b){var f=parseInt(b[1],10);f>c&&(c=f)});return c}function I(a){var c=0;b.each(a,
function(a,b){var f=parseInt(b[0],10);f>c&&(c=f)});return c}function C(a,b,c){b=b.width();if(c.naturalMainImageSize)return b;a=G(a);0<a&&(b=Math.min(b,a));return b}function w(a,b,c){b=b.height();if(c.naturalMainImageSize)return b;a=I(a);0<a&&(b=Math.min(b,a));return b}function A(a){var c;b.each(a,function(a,b){n(c)||(c=b[1]/b[0])});return c||1}function z(a,b,c){b.fadeTo(500,0,function(){N(a,c);b.fadeTo(500,1)})}function P(a){a&&a.toggle()}function N(a,c){var d=c.find("img");n(d[a])&&b(d[a]).click()}
function L(a,b){t[a]=b?b:t[a];return t[a]}function k(a,c,d){d=d||J;d=d.colorImages;if(1>d.length||!n(d[a])||!n(c))return-1;var e=-1;b.each(d[a],function(a,b){b.variant===c&&(e=a)});return e}function D(a,c,d){d=d||J;d=d.colorImages;return!(n(d)&&n(d[a])&&n(d[a][c])&&n(d[a][c].main))||1>b.map(d[a][c].main,function(a,b){return b}).length?-1:d[a][c]}function F(a,b,c,d){d.parent().css("z-index",2);0!==c&&0!==b&&(b/=c,a>b?d.css("width",b/a*100+"%"):d.css("height",a/b*100+"%"))}function v(a,c){var e;if(e=
a.useIV)e=a.colorImages&&a.colorImages[c]&&0<a.colorImages[c].length?!0:!1;h.isEnabled&&(h.IVApplicaple=e,d.logImmersiveViewApplicability(b,h));return e}var p,y,E,J=b.extend(!0,{},l,c),t={};return{isDefined:n,isDefinedAndEmpty:function(a){return n(a)&&"object"===typeof a&&0===Object.keys(a).length},isUndefinedOrEmpty:function(a){return n(a)?"object"===typeof a&&0===Object.keys(a).length:!0},isDefinedAndNotEmpty:function(a){return n(a)?"object"===typeof a&&0<Object.keys(a).length:!1},isjQueryObjDefined:function(a){return 0!==
a.length},getAspectRatio:A,getMaxHeightOfMainImage:w,getMaxWidthOfMainImage:C,getMaxDimensionsOfMainImage:function(a,b,c){if(c.acEnabled)return[b.height(),b.width()];var d=w(a,b,c);b=C(a,b,c);a=A(a);c=b/a;b=Math.min(b,d*a);d=Math.min(d,c);return[d,b]},getContainerHeight:function(a,b,c){var d=a.get(0);a=0;if(n(d)){a=d.offsetWidth/b;a=Math.min(a,c);var e;b=J.mainImageHeightPartitions;c=J.mainImageMaxSizes;if(n(c)&&n(b)){for(var h=0,g=q.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,
d=0;d<b.length;d++)g>b[d]&&(h=d+1);c.length>=h&&(e=c[h])}n(e)&&(a=Math.min(e[1],a))}return a},getColorFromState:function(a,c){if(a){c=c||J;var d="";b.each(c.visualDimensions,function(b,c){a[c]&&(d+=" "+a[c])});return d&&d.substring(1)}},createThumbnail:function(a,b,c,d){var e=c.find(".template").clone().removeClass("template").addClass("item"),h=document.createElement("img");h.src=b;e.find(".placeHolder").replaceWith(h);(b=a.heroVideoVariant)&&"hero-image"===a.type&&a.variant===b&&e.addClass("heroImageThumbnail");
n(d)&&e.addClass(d);g.declarative.create(e,"thumb-action",a);e.attr&&e.attr("data-ux-click","");c.append(e)},selectGivenThumbnail:function(a,b){var c=a.find(".a-button");b.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");c.addClass("a-button-selected").addClass("a-button-focus")},createAiryInstanceForChromeful:function(c,d,h,g,k,l,n,D){var v=b.extend({},h.foresterMetadataParams);null!==g&&(v.method+="."+g);var t=[];d.disabledViewIds&&(t=d.disabledViewIds);return a.embed({parentElement:c[0],
streamingUrls:d.url,contentId:d.mediaObjectId,contentMinAge:Number(d.minimumAge||"")||0,contentTitle:d.title,swfUrl:h.swfUrl,foresterMetadataParams:v,backgroundColor:"black",flashParams:{wmode:"transparent"},slateImages:{preloadSlate:d.slateUrl,postMediaSlate:d.slateUrl},videoAds:h.videoAds,bindings:{play:function(){"ImmersiveView"===g?p||(p=!0,e.postCountMetric("dppc_chromefulVideoPlayedIV")):y||(y=!0,e.postCountMetric("dppc_chromefulVideoPlayedPV"))}},cuePoints:[{values:d.durationSeconds-1,type:"position",
callback:function(a,b,c){k&&(z(0,l,D),P(n))}}],disabledViewIds:t})},loadMediaIntoAiry:function(a,b,c,d){a&&a.getMediaSourceInfo()!==b.url&&(d?(E={mediaSourceInfo:[b.url],contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"},a.loadMedia(E)):a.loadMedia({mediaSourceInfo:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl}}))},showUnavailable:function(a){a&&(b("#imageBlock .unvailableVariation").html(a),
b("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){b("#imageBlock .variationUnavailable").hide()},fadeToThumbnail:z,toggleVideoCaption:P,selectThumbnail:N,spinner:function(a,c){var d=b("#imageBlock .a-spinner").parent();0===d.length&&(d=b("\x3cdiv\x3e\x3c/div\x3e").append(b("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),a.append(d),d.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)",
"z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));c?d.show():d.hide();return d},rankedImagesReadyEvent:function(a){return"ranked-images-ready-for-"+a},ajaxState:L,getIndexForVariant:k,getImageHash:D,lazyLoadingRequired:function(a,b,c){b=Math.max(k(a.color,b.getCurrentItem().variant,c),0);b=-1!==D(a.color,b,c);a=c.colorToAsin[a.color]&&c.colorToAsin[a.color].asin;a=!a||"success"!==L(a);return!c.lazyLoadExperienceDisabled&&
!b&&a},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:F,repositionVideoBanner:function(a,b,c,d){setTimeout(function(){var c=a.width()/a.height();F(c,16,9,b)},d||0)},getVideosCount:function(a,b){return b.useChildVideos&&b.colorToVideo[a]?b.colorToVideo[a].length:b.videos?b.videos.length:0},getVideoHash:function(a,b,c){if(c.useChildVideos){if(!n(c.colorToVideo))return-1;a=c.colorToVideo[a]}else a=c.videos;return n(a)&&n(a[b])&&n(a[b].url)?a[b]:-1},isImmersiveViewEnabled:v,
playVideoInImmersiveView:function(a,b){return v(a,b)&&a.useTabbedImmersiveView},useTabbedImmersiveView:function(a){return a.useTabbedImmersiveView},getMediaSourceInfo:function(){return n(E)?E.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(a,b,c){return{requester:"DetailPageTablet",marketplaceID:c.marketPlaceID,clientPrefix:"ImageBlock_tablet",locale:c.languageCode,page:"DetailPageTablet",placement:"ImageBlock",video:{videoURL:c.url,imageURL:c.slateUrl}}},addTag:function(a){q.ue&&q.ue.tag&&
q.ue.tag(a)},isShoppableScenesEnabled:function(){return J.shoppableSceneWeblabEnabled}}});"use strict";w.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(g,b,a,e){function l(c,d,g,k){if(!a.isjQueryObjDefined(c.find(".a-button-selected"))){var l=z.getCurrentItem();if(!k||"chromeless-video"!==l.type||!A.autoplayVideo){k=0;if("hero-image"===l.type){k=h(l.color,l.variant);if(-1===k)return;k=-1!==k?k:0}var n=d+k;n>=g&&(k=0,n=d);d=e.getHeroImageHash(A,
l.color,k);-1!==d&&(P.dispatch("updateModel",{data:{index:k,thumbnailIndex:n,variant:d.variant,type:"hero-image"}}),d=c.find(".item").get(n),a.selectGivenThumbnail(b(d),c))}}}function c(c,d,e){if("hero-video"===z.getCurrentItem().type)return c;d=A.heroImage&&A.heroImage[d];var h=c;a.isDefined(d)&&(b.each(d,function(b,d){c<A.maxAlts&&(a.createThumbnail({type:"hero-image",index:b,thumbnailIndex:c,variant:d.variant},d.thumb,N,"imageThumbnail"),c++)}),l(N,h,c,e));return c}function h(c,d){var e=A.heroImage;
if(1>e.length||!a.isDefined(e[c])||!a.isDefined(d))return-1;var h=-1;b.each(e[c],function(a,b){b.variant===d&&(h=a)});return h}function d(){if(L.length&&A.repositionHeroImage){var b=e.getHeroDimParams(A,z.getCurrentItem()),c;a.isDefined(b)&&(c=a.isDefined(b.xPos)?b.xPos+"px "+b.yPos+"px ":"center "+b.yPos+"px ",L.css({"background-position":c,"background-size":b.width+"px "+b.height+"px ","max-width":b.width+"px ","min-height":b.height+"px ",filter:"","-ms-filter":""}))}}function n(b,c,d,h){if(L.length&&
b&&c){if("function"===typeof d||h){var g=new Image;g.onload=h?function(){L.css("background-image",'url("'+b+'")')}:d;g.src=b}d=c[1];var g=c[0],k;h||L.css({"background-image":'url("'+b+'")'});A.repositionHeroImage&&(c=e.getHeroDimParams(A,z.getCurrentItem(),c),a.isDefined(c)&&(d=c.width,g=c.height,k=a.isDefined(c.xPos)?c.xPos+"px "+c.yPos+"px ":"center "+c.yPos+"px "));L.css({"background-position":k,"background-size":d+"px "+g+"px ","max-width":d+"px ","min-height":g+"px ",filter:"","-ms-filter":""})}}
function G(a,c,d,h){a=e.getHeroImageHash(A,a,c);if(-1===a)return-1;c=b.map(a.main,function(a,b){return b})[0];n(c,a.main[c],d,h)}function q(a,b,c){if("hero-image"!==a.type)return-1;var d=h(a.color,z.getCurrentItem().variant),d=-1!==d?d:0;if(-1===e.getHeroImageHash(A,a.color,d))return-1;var g=z.getCurrentItem();a.thumbnailIndex=g.thumbnailIndex;a.type=g.type;a.variant=g.variant;a.index=d;C(a,b,c)}function C(a,b,c){var d=e.getHeroImageHash(A,a.color,a.index),h;h=a&&k&&g.equals(a,k)?!0:!1;k||(k=a);if(!h&&
a||b)G(a.color,a.index,b,c),k=a;L.removeClass("hide-background");g.trigger("dp:image-block:update",d)}var w,A,z,P,N,L,k={};return function(e,h,g,k){w=this;A=e;z=h;P=k;A.heroImage[A.landingAsinColor]=A.heroImage[A.defaultColor];w.render=function(a,d,e,h,f,g,k){N=h;L=b("#heroImage");a=c(d,a,g);q(z.getCurrentItem(),k,g);return a};w.update=function(b){var c=b.data;"ingress"!==c.type&&L.addClass("hide-background");"swatchHover"===b.type?b.captured||(c.type=z.getCurrentItem().type,-1!==q(c)&&(b.captured=
!0)):"hero-image"===c.type&&(C(c),"click"!==b.type&&A.usePeekHover||a.selectGivenThumbnail(b.$declarativeParent,N))};P.register("resize",d)}});"use strict";w.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",function(g,b,a){var e,l,c,h;return function(b,n,G,q){e=this;l=b;c=q;e.render=function(b,c,d,n,G,q,w){h=n;e=this;d=l.maxAlts;n=c;G=l.colorImages[b]?l.colorImages[b].length:0;G+=a.getVideosCount(b,l);b=l.heroImage[b];q=0;b&&(q=b.length);b=G+q;b>d&&(d=b-d,b=h.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),
d+="+",n={type:"ingress",index:0,thumbnailIndex:c,variant:""},b.find("#altIngressText").append(d),g.declarative.create(b,"thumb-action",n),h.append(b),n=c++);return n};e.update=function(a){"ingress"===a.data.type&&"click"===a.type&&c.dispatch("imageClick",a)}}});"use strict";w.when("imageBlockUtils").register("ImageBlockState",function(g){return function(b,a,e){this.getImageHash=function(a){var c=e.getCurrentItem();a=g.getIndexForVariant(c.color,a||"MAIN",b);return g.getImageHash(c.color,a,b)};this.onImageUpdateForTwister=
function(b){a.register("updateSelection",function(a){"swatchClick"===a.type&&"function"===typeof b&&b()})}}});"use strict";w.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(g,b){function a(a,b){var d;if(b.repositionHeroImage){d=a[1];var e=a[0];if(768>=(q.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))d*=.7,e*=.7;else{var g=((q.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,g=Math.max(Math.min(g,1),0);
d*=.7+.3*g;e*=.7+.3*g}d=[d,e]}return d}function e(a,e,d){var g;if(d.repositionHeroImage){var l=q.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;d=d.heroFocalPoint;if(b.isDefined(d)){g=Math.max((l-Math.min(1500,a))/2,0);var w=Math.max((l-a)/2,0);g-=w;l=Math.max(Math.min(l,1500),1024);g=g+(l-420-23)/2-a/e[1]*d}}return g}function l(a,e,d){a=a.heroImage;return!(b.isDefined(a)&&b.isDefined(a[e])&&b.isDefined(a[e][d])&&b.isDefined(a[e][d].main))||1>g.map(a[e][d].main,function(a,
b){return b}).length?-1:a[e][d]}return{getHeroImageHash:l,getHeroDimParams:function(c,h,d){if(c.repositionHeroImage){if(!b.isDefined(d)){d=l(c,h.color,h.index);if(-1===d)return;h=g.map(d.main,function(a,b){return b})[0];d=d.main[h]}h=a(d,c);c=e(h[0],d,c);return{height:h[1],width:h[0],xPos:c,yPos:75}}}}});"use strict";w.when("postMetric").register("ImageBlockImmersiveViewShowroom",function(g){function b(){this.render=function(){};this.update=function(){}}return function(a,e,l,c){var h=!1,d=new b;w.now("showroom-image-block-view").execute("showroom-image-block-view-decider",
function(b){b!==Z&&(h=!0,d=new b(a,e,l,c))});a&&!0===a.showroomEnabled&&!1===h&&g.postCountMetric("showroom:atf:imageBlock:hiddenDueToAssetsNotPresentInTime");return d}});"use strict";w.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(g,b,a){function e(b,e){var d=g.copy(b);if(a.isDefined(b)&&b.length>e){try{for(var l=-1,q=0;q<b.length;q++){var w=b.charAt(q);if(" "===w||"."===w||"?"===w||";"===w||","===w||":"===w)l=q;if(q===e-4){d=b.substring(0,-1===l?q:l);break}}}catch(C){d=
b.substring(0,e-3)}d+="..."}return d}function l(a,b){var d=a.lastIndexOf(".");return a="_"===a.charAt(d-1)?a.substring(0,d-1)+b+a.substring(d):a.substring(0,d)+"."+b+a.substring(d)}return{getDimension:function(a,b){var d=parseInt(a.css(b),10);return isNaN(d)?0:d},attachTabSelectHandler:function(a,b){g.on("dp:ivTabs:"+a+":select",b)},attachTabDeselectHandler:function(a,b){g.on("dp:ivTabs:"+a+":deselect",b)},attachImmersiveViewResizeHandler:function(a){g.on("dp:image-block:immersive-view:resize",a)},
detachImmersiveViewResizeHandler:function(a){g.off("dp:image-block:immersive-view:resize",a)},attachImmersiveViewResetHandler:function(a){g.on("a:popover:afterHide:immersiveView",a)},hideTabHeading:function(a){b("#"+a).hide()},unhideTabHeading:function(a){b("#"+a).show()},addStyleCodeToURL:l,getResizedThumbnailURL:function(a,b){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,
"");var d="_AA50_";b&&(d+="FMpng_RI_");return l(a,d)},populateVariationSelection:function(c){if(a.isDefined(q.DetailPage)&&a.isDefined(q.DetailPage.StateController)){c.empty();var e=q.DetailPage.StateController.getState(),d=e.variation_label_order,g;for(g in d)if(d.hasOwnProperty(g)){var l=d[g],w=e.selected_variations[l],l=e.variation_display_labels[l];w&&b("\x3cdiv/\x3e").addClass("ivVariations").text(l+":"+w).appendTo(c)}}},populateTitle:function(a,b,d){a.html(d.title);a.attr("title",a.text());
a.html(e(d.title,b))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,b){a.animate({opacity:.4},100,b)},logError:function(a,b,d,e){q.ueLogError&&q.ueLogError(e,{logLevel:a,attribution:b,message:d})}}});"use strict";w.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(g,b,a,e,l){function c(){l.populateTitle(v.find("#ivTitle"),160,D)}function h(){var b=F.getCurrentItem().color;y=D.colorImages[b];
p=D.heroImage[b];E=J=0;a.isDefined(p)&&(E=p.length);a.isDefined(y)&&(J=y.length)}function d(a){return a.hiRes||a.large||a.main[a.main.length-1]}function n(){var a=v.find("#ivStage").find("#ivLargeImage"),b=a.width(),c=a.height(),d=a.find(".fullscreen");d.removeAttr("style");var e=d.width(),h=d.height();0<d.length&&(d[0].naturalWidth&&(e=d[0].naturalWidth),d[0].naturalHeight&&(h=d[0].naturalHeight));a.css("cursor","auto");var e=0===e?1:e,h=0===h?1:h,g=Math.min(b/e,c/h),k=h*g,l=e*g;1>g?(f?a.css("cursor",
"url('"+D.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),r=!0):r=!1;e=Math.min(l,e);h=Math.min(k-20,h);d.css({"margin-top":(c-h)/2,"margin-left":(b-e)/2,height:h,width:e});a.css("visibility","visible");x=!1}function q(a){var b=v.find("#ivLargeImage");b.css("visibility","hidden");b.empty();l.animateStageIn(b);b.append(a);n()}function w(c){v.find("#ivLargeImage").css("display","none");v.find("#ivLargeImage").css("display",
"block");var e;"hero-image"===c?a.isDefined(p)&&(e=d(p[t.index])):a.isDefined(y)&&(e=d(y[t.index]));if(a.isDefined(e)){v.find(".fullscreen").remove();var f=b("\x3cimg\x3e").attr("src",e).addClass("fullscreen"),h=v.find("#ivLargeImage");l.animateStageOut(h,function(){f.load(function(){q(f)});if(f[0].complete)q(f);else{h.empty();var a=(h.height()-104)/2,c=(h.width()-80)/2;b("\x3cimg\x3e").attr("src",D.staticImages.spinner).css({position:"relative",top:a+"px",left:c+"px"}).appendTo(h)}})}}function C(a){v.find(".ivThumb").removeClass("selected");
a.addClass("selected");a.hasClass("ivHeroImage")?t.type="hero-image":t.type="image";t.index=a.attr("id").split("_")[1];w(t.type);e.postCountMetric("dpcc_iv_thumbCLick_"+(parseInt(t.index,10)+1)+"_"+(E+J))}function K(){v.delegate(".ivThumb","click",function(){var a=b(this);C(a)})}function A(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function z(a){var b=Y.top-(a.pageY-M[1])*H;a=A(Y.left-(a.pageX-M[0])*H,T.left);b=A(b,T.top);v.find(".fullscreen").css({left:a,top:b})}function P(){v.delegate("#ivLargeImage",
"click",function(a){if(x)n();else if(r){v.find(".fullscreen").removeAttr("style");if(r){var b=v.find("#ivLargeImage"),c=b.find(".fullscreen");f?b.css("cursor","url('"+D.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));x=!0;var d=v.find("#ivLargeImage");T.left=d.width()-c.width();T.top=d.height()-c.height();var d=b.height()/2,h=b.width()/2;M=[b.offset().left+h,b.offset().top+d];Y.top=d-c.height()/2;Y.left=h-c.width()/2;
c.css({position:"relative",left:Y.left,top:Y.top});H=Math.max(c.height()/b.height(),c.width()/b.width())}z(a);e.postCountMetric("dpcc_iv_largeImageCLick")}});v.delegate("#ivLargeImage","mousemove",function(a){x&&z(a)})}function N(){v.find("#ivLargeImage").empty()}function L(d){if(m){v=b("#ivMain");h();t=F.getCurrentItem();c();l.populateVariationSelection(v.find("#ivVariationSelection"));d=v.find("#ivThumbs");d.find(".ivRow").not(".placeholder").remove();for(var e=E+J,f=0,g=0;f<e;)for(var k=d.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(d),
n=0;4>n&&f<e;n++,f++,g++)if(g<E){var r=p[f].thumb,q=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+f).appendTo(k);q.find(".ivThumbImage").css("background",'url("'+l.getResizedThumbnailURL(r)+'") center no-repeat')}else g>=E&&g<J+E&&(r=y[f-E].thumb,q=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(f-E)).appendTo(k),q.find(".ivThumbImage").css("background",'url("'+l.getResizedThumbnailURL(r)+
'") center no-repeat'));Q();m=!1}else c();d=b("#ivImagesTab").height();v.css("height",d);e=v.find("#ivTitle").outerHeight(!0);f=v.find("#ivVariationSelection").outerHeight(!0);g=v.find("#ivThumbs");k=l.getDimension(g,"margin-top")+l.getDimension(g,"margin-bottom");g.css("height",d-e-f-k);v.find("#ivLargeImage").css("height",d);d=v.find("#ivStage");e=v[0]&&v[0].getBoundingClientRect&&Math.floor(v[0].getBoundingClientRect().width)||v.width();d.css("width",e-l.getDimension(v,"padding-left")-l.getDimension(v,
"padding-right")-v.find("#ivThumbColumn").width()-l.getDimension(d,"margin-left")-l.getDimension(d,"margin-right"));t=F.getCurrentItem();d="hero-image"===t.type?v.find("#ivHeroImage_"+t.index):"image"===t.type?v.find("#ivImage_"+t.index):a.isDefined(p)?v.find("#ivHeroImage_"+t.index):v.find("#ivImage_"+t.index);a.isjQueryObjDefined(d)||(d=v.find("#ivImage_0"));C(d)}var k,D,F,v,p,y,E,J,t,f=navigator.userAgent.match(/msie|trident/i),m=!0,x=!1,r=!1,T={},Y={},H,M,m=!0,Q=g.once(function(){K();P();l.attachImmersiveViewResizeHandler(L);
l.attachTabDeselectHandler("ivImagesTab",N)});return function(a,c,d,e){k=this;D=a;F=c;k.render=function(a,c,d,e,f,g){m=!0;h();0===E+J?l.hideTabHeading("ivImagesTabHeading"):l.unhideTabHeading("ivImagesTabHeading");1===E+J?b("#ivThumbs").hide():b("#ivThumbs").show()};k.update=function(a){};l.attachTabSelectHandler("ivImagesTab",L)}});"use strict";w.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",
function(g,b,a,e,l,c,h){function d(){y.delegate(".ivThumb","click",function(){var a=b(this);y.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivThumbVideo")&&(E.type="chromeful-video",E.index=a.attr("id").split("_")[1])})}function n(){if(Z){var a=b("#ivVideosTab").height();y.css("height",a);var c=y.find(".vse-lb-container");J=a-l.getDimension(c,"padding-top")-l.getDimension(c,"padding-bottom");c.css({"max-height":a,overflow:"hidden"});if(ba){y.css({"max-width":Math.floor(1.77*
J)});return}var a=y.find(".vse-player-container"),c=y.find(".vse-video-action-strip"),d=y.find(".vse-lb-video-metadata"),e=Math.floor(J-l.getDimension(d,"height")-l.getDimension(c,"height")),f=Math.floor(1.77*e);a.css({"max-height":e,"max-width":f,marginLeft:"auto",marginRight:"auto"});d.css({"max-width":f,marginLeft:"auto",marginRight:"auto"});c.css({"max-width":f,marginLeft:"auto",marginRight:"auto"})}aa&&(a=y.find(".vse-vertical-scroll"),c=l.getDimension(a,"margin-top")+l.getDimension(a,"margin-bottom"),
a.css("max-height",J-c))}function w(){I();t&&t.pause();R=!1;M=!0;r=null;fa=!0;Z=!1}function I(){R=!1;t&&t.pause()}function C(c){r=c.clickTimeStamp?c.clickTimeStamp:g.now();a.isDefined(p)&&(p.eventTimestamp=r);Q&&(h.get(g,"#ivVideoBlock",v,B,V),y=b("#ivVideoBlock"),F.getCurrentItem(),E=F.getCurrentItem(),ma());n();R=!0;Q=!1;z()}function K(a){Q&&(y=b("#ivVideoBlock"),F.getCurrentItem(),E=F.getCurrentItem(),ma());R&&z();n()}function A(a){t=a.player;e.postTimeMetric("vse_ib_desktop_player_initialisation_duration",
g.now()-ka);D.imageBlockRenderingStartTime&&e.postTimeMetric("vse_ib_desktop_time_to_player_interactive",g.now()-D.imageBlockRenderingStartTime);Z&&(L(),z())}function z(){if(t&&R&&(y.find(".vse-lb-container").animate({opacity:1},200),t.play(p),e.postCountMetric("dpcc_vse_videoBlock_video_played"),M)){var a=q.ue;a&&(a=a.count("dpcc_vse_videoingressclick"),a=(new Date).getTime()-a,e.postTimeMetric("dpcc_vse_vitff",a),M=!1)}}function P(){g.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function N(a){f=
a.popover.$popover;Z=!0;L()}function L(){Z&&fa&&R&&t&&(f.addClass(g.$(f).find(".vse-lb-container").data("cssClass")),g.trigger("vse:detailpage-imageblock:page:lightBoxOpened",{lightBoxId:"ivVideoBlock",assetSpec:p}),n(),fa=!1)}var k,D,F,v,p,y,E,J,t,f,m,x,r,T,Y,H,M=!0,Q=!0,ba=!1,aa=!1,R=!1,fa=!0,Z=!1,ka=0,ma=g.once(function(){d();l.attachImmersiveViewResizeHandler(K);l.attachTabDeselectHandler("ivVideosTab",I);l.attachImmersiveViewResetHandler(w)}),U=function(c,d,f){b("#ivVideoBlockSpinner").addClass("aok-hidden");
e.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+d.placement);c=F.getCurrentItem().color;c=a.getVideoHash(c,0,D);t||(t=a.createAiryInstanceForChromeful(b("#ivVideoBlock"),c,D.airyConfig,"ImmersiveView"));ba=!0;b("#ivVideoBlock").css({"max-width":1.77*J,margin:"0 auto"});R&&ba&&t.play({isAsync:!0})},ca=function(a,c,d){Q||h.get(a,"#ivVideoBlock",v,B,V);b("#ivVideoBlockSpinner").addClass("aok-hidden")},B=function(a,b,c){aa=!0;n()},V=function(a,b,c){e.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+
b.pageContext.placement+"_"+b.configuration.type)};return function(b,d,e,f){k=this;D=b;F=d;k.render=function(b,d,e,f,h,k){b=F.getCurrentItem().color;d=a.getVideoHash(b,0,D);!0===k?m=D.mediaAsin:(m=D.colorToAsin[b]&&D.colorToAsin[b].asin,m=a.isDefined(m)?m:D.mediaAsin);x=null!==D.vseVideoDataSourceTreatment&&"T1"===D.vseVideoDataSourceTreatment?"ASIN":"physicalID";T=D.contentWeblab;Y=D.contentWeblabTreatment;H=D.parentAsin||"";Q=!0;-1===d?l.hideTabHeading("ivVideosTabHeading"):(l.unhideTabHeading("ivVideosTabHeading"),
v={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:d.marketPlaceID,locale:d.languageCode,product:{contentID:m,contentIDType:"ASIN",parentContentID:H,parentContentIDType:"ASIN"},video:{contentID:d.mediaObjectId,contentIDType:x,videoURL:d.url,imageURL:d.slateUrl},requestId:D.dpRequestId,weblabContext:[{name:T,assignment:Y}],metadata:{ProductTitle:D.title}},p={videoUrl:v.video.videoURL,contentId:v.video.contentID,duration:0,vendorCode:"",eventTimestamp:a.isDefined(r)?r:g.now(),
imageUrl:v.video.imageURL,productAsin:v.product.contentID,index:0},a.isDefinedAndNotEmpty(t)&&(t.destroy(),t=null),ka=g.now(),c.get(g,"#ivVideoBlock",v,ca,U))};k.update=function(a){};l.attachTabSelectHandler("ivVideosTab",C);g.on("vsePlayer-detailpage-imageblock",A);g.on("a:popover:afterShow:immersiveView",N);g.on("a:popover:beforeHide:immersiveView",P)}});"use strict";w.when("A","jQuery","imageBlockUtils","ImageBlockLoader","nexusLogger360","postMetric","imageBlockImmersiveViewUtils","hit-spin360-feature-data",
"hit-spin360-constants").register("ImageBlockImmersiveView360",function(g,b,a,e,l,c,h,d,n){function q(){var a=b("#iv360Tab").height();H.css("height",a);var c=H.find("#ivTitle360").outerHeight(!0),d=H.find("#ivVariationSelection360").outerHeight(!0),e=H.find("#ivThumbs360"),f=h.getDimension(e,"margin-top")+h.getDimension(e,"margin-bottom");e.css("height",a-c-d-f);a=H.find("#ivStage360");c=H[0]&&H[0].getBoundingClientRect&&Math.floor(H[0].getBoundingClientRect().width)||H.width();a.css("width",c-h.getDimension(H,
"padding-left")-h.getDimension(H,"padding-right")-H.find("#ivThumbColumn360").width()-h.getDimension(a,"margin-left")-h.getDimension(a,"margin-right"))}function w(){z();var a=H.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});h.animateStageIn(a)},200);C()}function C(){if(0<u){var a=H.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function K(a,d){if(u<a.length){var e=b("\x3cimg /\x3e").css({display:"block",width:6*Q+"px",height:ba+"px"});
e.hide();d.append(e);e.get(0).onload=function(){d.closest(document.documentElement).length&&(u++,1===u&&(C(),0<B&&(l.time("dppc_loadTime360",Date.now()-B,r.mediaAsin),c.postTimeMetric("dppc_loadTime360",Date.now()-B))),0<V&&(l.time("dppc_perSpriteloadTime360",Date.now()-V,r.mediaAsin),c.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-V)),H.find("#iv360Spinner").hide(),e.show(),U=5*M.imageLocations[Math.floor(ca/M.imageLocations[0].length)][ca%M.imageLocations[0].length],K(a,d))};e.attr("src",
a[u].replace(/(\._SP)\d+(,)\d+/,"$1"+R+"$2"+aa));V=Date.now()}}function A(b){if(a.isDefined(M.spriteWidthSizes)&&0<M.spriteWidthSizes.length){var c=M.spriteWidthSizes,d=c.length,e=c[0],f=c[d-1];if(b<=e)return e;if(b>f)return f;for(e=0;e<d;e++)if(b>c[e]&&b<=c[e+1])return c[e+1]}else return b}function z(){var a=H.find("#ivLarge360");a.children("#image-360-sprites").length||(a.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),a.css({"margin-left":0,"margin-top":0,width:a.parent().width(),height:a.parent().height(),
overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),b("\x3cimg\x3e").attr("src",r.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(a),ka=!0,P())}function P(){if(a.isDefined(M.spriteURLs)&&a.isDefined(H)&&ka&&!ma){var c=H.find("#ivLarge360"),d=b("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",
bottom:0,opacity:0,display:"block"});a.isDefined(M.staticImages.hint360)&&b("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",M.staticImages.hint360).appendTo(d);b("\x3cdiv\x3e").css({"text-align":"center"}).text(r.staticStrings.dragToSpin).appendTo(d);d.appendTo(c);var d=M.imageWidth,e=M.imageHeight,f=c.parent().width(),h=c.parent().height(),g=0,l=0;d/e>f/h?(R=A(f),aa=Math.round(e/d*R),Q=Math.ceil(f),ba=Math.ceil(aa/R*f),l=(h-ba)/2):(aa=A(h),R=Math.round(d/
e*aa),ba=Math.ceil(h),Q=Math.ceil(R/aa*h),g=(f-Q)/2);c.css({"margin-left":g,"margin-top":l,width:Q+"px",height:ba+"px",overflow:"hidden",position:"relative"});c.children("#image-360-sprites").css("width",6*Q+"px");K(M.spriteURLs,H.find("#image-360-sprites"),0);d=H.find("#ivLarge360");d.bind("mousedown",D);d.bind("touchstart",N);d.bind("touchmove",L);d.bind("touchend",k);b(document).bind("mousemove",F);b(document).bind("mouseup",v);a.isDefined(r.staticImages.grab)&&c.css("cursor","url('"+r.staticImages.grab+
"'), auto");ma=!0}}function N(a){X=!0;va=a.originalEvent.targetTouches[0].clientX}function L(a){X&&(p(a.originalEvent.targetTouches[0].clientX-va),va=a.originalEvent.targetTouches[0].clientX)}function k(a){X&&(X=!1)}function D(b){ja=!0;fa=b.originalEvent.clientX;a.isDefined(r.staticImages.grabbing)&&(b=H.find("#ivLarge360"),b.css("cursor","url('"+r.staticImages.grabbing+"'), auto"),b.parents(".a-declarative").last().css("cursor","url('"+r.staticImages.grabbing+"'), auto"));return!1}function F(a){ja&&
(p(a.originalEvent.clientX-fa),fa=a.originalEvent.clientX)}function v(b){ja&&(ja=!1,a.isDefined(r.staticImages.grab)&&(b=H.find("#ivLarge360"),b.css("cursor","url('"+r.staticImages.grab+"'), auto"),b.parents(".a-declarative").last().css("cursor","auto")))}function p(b){U-=b/Q*180;ia&&(l.count("dppc_360dragToSpin",r.mediaAsin),c.postCountMetric("dppc_360dragToSpin"));ia=!1;for(b=U;0>b;)b+=360;for(;360<b;)b-=360;U=b;var d;b=360;for(var e=0;e<u;e++)for(var f=0;f<M.imageLocations[e].length;f++){var h=
Math.abs(U-5*M.imageLocations[e][f]);h<b&&(b=h,d=e*M.imageLocations[0].length+f)}d!==ca&&(b=Math.floor(d/M.imageLocations[0].length),b!==Math.floor(ca/M.imageLocations[0].length)&&(a.isDefined(ha)||(ha=document.createElement("canvas").getContext("2d")),e=H.find("#image-360-sprites").children(),ha.drawImage(e[b],0,0)),b=H.find(".iv360Hint").not(".iv360HintFaded"),a.isDefined(b)&&(b.addClass("iv360HintFaded"),b.animate({opacity:0},750)));ca=d;b=d%M.imageLocations[0].length*-1*Q;d=-1*Math.floor(d/M.imageLocations[0].length)*
ba;e=H.find("#ivLarge360").children("#image-360-sprites");e.css("-webkit-transform","translate3d("+b+"px, "+d+"px, 0)");e.css("transform","translate3d("+b+"px, "+d+"px, 0)")}function y(){if(W){H=b("#ivMain360");var a=T.getCurrentItem().color;J()&&t(a);M=J()?r.spin360ColorData[a]:Z;h.populateTitle(H.find("#ivTitle360"),160,r);h.populateVariationSelection(H.find("#ivVariationSelection360"));H.find("#ivLarge360").empty();u=0;ma=ka=!1;ca=U=0;da();W=!1}0!==b("#iv360Tab").height()&&(h.detachImmersiveViewResizeHandler(y),
q(),w(),B=Date.now(),ga=ia=!0,l.count("dppc_click360",r.mediaAsin),c.postCountMetric("dppc_click360"))}function E(b,f,h){b=r.colorToAsin[h];var g={},k=500;if(!b||!b.asin)if(h===r.defaultColor)b={asin:r.winningAsin};else return;g.params={asin:b.asin};var m="360"+b.asin,n=Date.now();g.success=function(b){l.time("dppc_asyncRequestTime360",Date.now()-n,r.mediaAsin);c.postTimeMetric("dppc_asyncRequestTime360",Date.now()-n);b&&a.isDefined(b.spin360)?((b=b.spin360.spin360Model)&&d.setData(b),a.ajaxState(m,
"success")):g.error()};g.error=function(){l.count("dppc_asyncFailedTransient360",r.mediaAsin);c.postCountMetric("dppc_asyncFailedTransient360");l.time("dppc_asyncRequestTime360",Date.now()-n,r.mediaAsin);c.postTimeMetric("dppc_asyncRequestTime360",Date.now()-n);k*=2;16E3>=k?setTimeout(function(){n=Date.now();e.load("/gp/product/features/apparel-main-image/360.html",g)},k):(l.count("dppc_asyncFailed360",r.mediaAsin),c.postCountMetric("dppc_asyncFailed360"),a.ajaxState(m,"fail"))};a.ajaxState(m)&&"fail"!==
a.ajaxState(m)||(e.load("/gp/product/features/apparel-main-image/360.html",g),a.ajaxState(m,"sent"))}function J(){return r&&a.isDefined(r.spin360ConfigEnabled)&&r.spin360ConfigEnabled}function t(b){return a.isDefinedAndNotEmpty(r.spin360ColorData[b])?!0:a.isDefined(r.spin360LazyLoadEnabled)&&r.spin360LazyLoadEnabled}function f(){ga&&(l.time("dppc_duration360",Date.now()-B,r.mediaAsin),c.postTimeMetric("dppc_duration360",Date.now()-B),ga=!1)}function m(a){a=r.colorToAsin[a.color]&&r.colorToAsin[a.color].asin;
a||(a=r.mediaAsin);return a}var x,r,T,Y,H,M,Q,ba,aa,R,fa,va,ka=!1,ma=!1,U=0,ca=0,B=0,V=0,ja=!1,X=!1,u=0,ha,ia=!0,ga=!1,W=!0,da=g.once(function(){h.attachImmersiveViewResizeHandler(y);h.attachImmersiveViewResizeHandler(q);h.attachImmersiveViewResetHandler(f);h.attachTabDeselectHandler("iv360Tab",f)});return function(e,f,k,p){x=this;r=e;T=f;Y=p;e=r.landingAsinColor;f=r.defaultColor;a.isDefined(r.staticImages.icon360)&&b("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",
h.addStyleCodeToURL(r.staticImages.icon360,"_FMpng_RI_"));J()&&(r.spin360ColorData||(r.spin360ColorData={}),e===f&&a.isDefinedAndEmpty(r.spin360ColorData[f])&&delete r.spin360ColorData[f]);g.on(n.TWISTER_DATA_EVENT,function(a){m(T.getCurrentItem())===a&&(M=d.getData(a),P(),a={type:"updatedData",data:T.getCurrentItem()},Y.dispatch("updateView",a))});x.render=function(e,f,k,n,p,q){W=!0;!J()||a.isDefinedAndEmpty(r.spin360ColorData[e])&&!d.getData(m(T.getCurrentItem()))?h.hideTabHeading("iv360TabHeading"):
(r.spin360ColorData[e]=d.getData(m(T.getCurrentItem())),a.isDefinedAndNotEmpty(r.spin360ColorData[e])?(b("#ivThumbs360").hide(),h.unhideTabHeading("iv360TabHeading"),a.isImmersiveViewEnabled(r,T.getCurrentItem().color)&&J()&&t(e)&&(f===r.maxAlts&&(e=n.find(".item.imageThumbnail"),f=n.find(".item.videoThumbnail"),a.isDefined(f)&&1<f.length?f.last().remove():e.last().remove()),e=n.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),g.declarative.create(e,
"button-360-click"),n.append(e),l.count("dppc_display360",r.mediaAsin),c.postCountMetric("dppc_display360"))):a.isDefined(r.spin360LazyLoadEnabled)&&r.spin360LazyLoadEnabled?(r.spin360ColorData[e]={},h.hideTabHeading("iv360TabHeading"),E(n,f,e)):h.hideTabHeading("iv360TabHeading"))};x.update=function(a){};h.attachTabSelectHandler("iv360Tab",y)}});w.register("nexusLogger360",function(){return{count:function(g,b){q.ue&&q.ue.event({asin:b,metricName:g,metricValue:1},"hit-360","hit360.clientEvent.3")},
time:function(g,b,a){q.ue&&q.ue.event({asin:a,metricName:g,metricValue:b},"hit-360","hit360.clientEvent.3")}}});w.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});w.when("A","hit-spin360-constants").register("hit-spin360-feature-data",function(g,b){var a={};return{setData:function(e){var l=e.asin;a[l]||(a[l]=e,g.trigger(b.TWISTER_DATA_EVENT,l))},getData:function(b){return a[b]}}});"use strict";w.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",
function(g,b){w.register("vse_ns_preLoaderHook",function(){function a(e,l){try{var c=e.A,h=e.block,d=e.request,n=e.handleFailure,q=e.handleSuccess,w=c.$;l--;var C=3-l-1,K=c.now();c.ajax("/vap/ew/componentbuilder",{params:d,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:d.timeout||5E3,withCredentials:!0,success:function(a){var b=c.now()-K;g.postTimeMetric("vse_preLoaderHook:success:",b);g.postCountMetric("vse_preLoaderHook:success:"+d.page+":"+d.placement+":"+
C);w(h).html(a);q(c,d,a)},error:function(b){g.postCountMetric("vse_preLoaderHook:error:"+d.page+":"+d.placement+":"+C);(0===b.http.status||500<=b.http.status&&599>=b.http.status)&&0<l?a(e,l):(g.postCountMetric("vse_preLoaderHook:error:",1),n(c,d,b))}})}catch(A){b.logError("FATAL","vse_ns_desktop","[vse_ns_preLoaderHook] ",A)}}return{get:function(b,g,c,h,d){a({A:b,block:g,request:c,handleFailure:d,handleSuccess:h},3)}}});w.register("vse_ns_lazyLoaderHook",function(){function a(e,l,c){try{var h=e.A,
d=e.context,n=e.handleFailure,q=e.handleSuccess;l.attr("data-configuration");var w=atob(l.attr("data-configuration")),C=JSON.parse(w),K={pageContext:d,configuration:C},A=h.now();c--;var z=3-c-1;h.ajax("/vap/ew/subcomponent/"+C.type,{params:K,paramsFormat:"json",method:"post",contentType:"application/json",timeout:d.timeout||5E3,withCredentials:!0,success:function(a){var b=h.now()-A;g.postTimeMetric("vse_lazyLoaderHook:success:",b);g.postCountMetric("vse_lazyLoaderHook:success:"+d.page+":"+d.placement+
":"+C.type+":"+z);l.html(a);q(h,K,a)},error:function(b){g.postCountMetric("vse_lazyLoaderHook:error:"+d.page+":"+d.placement+":"+C.type+":"+z);(0===b.http.status||500<=b.http.status&&599>=b.http.status)&&0<c?a(e,l,c):(g.postCountMetric("vse_lazyLoaderHook:error:",1),n(h,K,b))}})}catch(P){b.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",P)}}return{get:function(b,g,c,h,d){var n=b.$;n(g+" div[data-configuration]").each(function(){a({A:b,context:c,handleFailure:d,handleSuccess:h},n(this),
3)})}}});w.register("vse_ns_videoPlayer",function(){function a(e,l,c){try{var h=e.A,d=e.block,n=e.request,q=e.handleFailure,w=e.handleSuccess,C=h.$;c--;var K=3-c-1,A=h.now();h.ajax("/vap/ew/subcomponent/vseplayer",{params:n,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:n.timeout||5E3,withCredentials:!0,success:function(a){var b=h.now()-A;g.postTimeMetric("vse_lightPlayerLoaderHook:success:",b);g.postCountMetric("vse_lightPlayerLoaderHook:success:"+n.page+
":"+n.placement+":"+K);C(d).html(a);w(h,n,a)},error:function(b){g.postCountMetric("vse_lightPlayerLoaderHook:error:"+n.page+":"+n.placement+":"+K);(0===b.http.status||500<=b.http.status&&599>=b.http.status)&&0<c?a(e,c):(g.postCountMetric("vse_lightPlayerLoaderHook:error:",1),q(h,n,b))}})}catch(z){b.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",z)}}return{get:function(b,g,c,h,d){a({A:b,block:g,request:c,handleFailure:d,handleSuccess:h},3)}}})});"use strict";w.when("A","ImageBlockATF",
"ImageBlockBTF","imageBlockUtils","postMetric").execute(function(g,b,a,e,l){var c=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var b=a.colorImages,d=0,g;for(g in b)b[g]&&b[g].length&&(d+=b[g].length);b="image_size_bucket:gt"+c[c.length-1];for(g=1;g<c.length;g++)if(d<=c[g]){b="image_size_bucket:"+c[g-1]+"-"+c[g];break}l.postCountMetric(b);e.addTag(b)})();(function(){var a=b.colorImages;a&&a.initial&&a.initial.length&&(a=a.initial.length,q.ue&&ue.count&&ue.count("altImageCount",a))})();(function(){var b=
a.lazyLoadExperienceDisabled;e.isDefined(a.lazyLoadExperienceDisabled)&&!b&&(l.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),e.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()});w.when("A","get-resource-time","postMetric","afterLoad").execute(function(g,b,a){var e=g.state("desktop-landing-image-data");e&&(e=g.values(e),b=b.getResourceTimeByName("img",e),g.each(b,function(b){b&&(b.responseEnd!=Z&&a.postCountMetric("ibDesktopLandingImageDownloadTime",q.parseInt(b.responseEnd)),
b.transferSize!=Z&&(0===b.transferSize?a.postCountMetric("ibDesktopLandingImageCached",1):(a.postCountMetric("ibDesktopLandingImageSizeInBytes",q.parseInt(b.transferSize)),a.postCountMetric("ibDesktopLandingImageNotCached",1))))}))})});
/* ******** */
(function(e){var f=window.AmazonUIPageJS||window.P,r=f._namespace||f.attributeErrors,c=r?r("DetailPageShowroomImageBlockAssets",""):f;c.guardFatal?c.guardFatal(e)(c,window):c.execute(function(){e(c,window)})})(function(e,f,r){e.when("A","imageBlockUtils","imageBlockImmersiveViewUtils","showroom-lite-atf-feature-data","showroom-image-block-detail-page-rendering","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-view",function(c,l,q,k,g,b,a){function f(a){a=
n.colorToAsin[a.color].asin;a||(a=n.mediaAsin);return a}var e=void 0,n=void 0,m=void 0,p=void 0,w=void 0,h=void 0,d=void 0;return function(q,r,x,v){e=this;n=q;m=r;p=v;c.on(b.TWISTER_DATA_EVENT,function(a){f(m.getCurrentItem())===a&&(a={type:"updatedData",data:m.getCurrentItem()},p.dispatch("updateView",a))});e.render=function(b,l,q,e,n,r){w=e;h=n.find("#main-showroom-container");h.parent().find("#showroom-canvas-caption");c.$("#main-image-container");try{var t=f(m.getCurrentItem());if(k.isDataValidForAsin(t)){var u=
k.getDataForAsin(t);g.refresh(p,u.asin,u.defaultStageId);r||g.updateMainImage(h,u.imageData,p);l=g.createThumbnail(e,l,u.imageData);c.$("#ivShowroomTabHeading").removeClass("aok-hidden");if(t!==d){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED);var v=a.createShowroomAtfEvent(u.defaultStageId,t,a.EVENT_NAMES.IMAGEBLOCK_LOAD,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(v);d=t}}else c.$("#ivShowroomTabHeading").addClass("aok-hidden")}catch(z){c.$("#ivShowroomTabHeading").addClass("aok-hidden")}return l};
e.update=function(c){try{var d=c.data;m.setCurrentEvent(c);if(d.type===b.SHOWROOM_THUMBNAIL_TYPE){d.interaction=c.type;d.isUserGenerated=!0;if(k.isDataValidForAsin(f(d))){"mouseenter"===d.interaction&&d.type===b.SHOWROOM_THUMBNAIL_TYPE&&g.isShowroomMainImageHidden()&&a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER);var e=k.getDataForAsin(f(d)).imageData;g.updateMainImage(h,e,p);g.showShowroomMainImage(h)}n.usePeekHover&&"click"!==c.type||(l.selectGivenThumbnail(c.$declarativeParent,w),
"click"===c.type&&l.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(c))}else d.type!==b.SHOWROOM_MAIN_IMAGE_TYPE&&("swatchHover"===c.type?d.color===m.getCurrentItem().color&&m.getCurrentItem().type===b.SHOWROOM_THUMBNAIL_TYPE?g.showShowroomMainImage(h):g.hideShowroomMainImage(h):g.hideShowroomMainImage(h))}catch(y){}};document.getElementById("ivShowroomTabHeading").addEventListener("click",function(b){a.addOne(a.COUNTER_NAMES.TAB_SELECT);b=k.getDataForAsin(d).defaultStageId;b=a.createShowroomAtfEvent(b,
d,a.EVENT_NAMES.IMMERSIVE_VIEW_TAB_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(b)})}});"use strict";e.register("showroom-image-block-constants",function(){return{SHOWROOM_THUMBNAIL_TYPE:"showroom-image",SHOWROOM_MAIN_IMAGE_TYPE:"showroom-main-image",TWISTER_DATA_EVENT:"showroomTwisterData",STRING_IDS:{MAIN_IMAGE_OVERLAY_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text",MAIN_IMAGE_OVERLAY_ICON_URL:"showroom_dp_imageblock_atf_main_image_overlay_icon_url"}}});"use strict";e.when("A",
"jQuery","imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-constants","showroom-atf-metrics").register("showroom-image-block-detail-page-rendering",function(c,l,e,f,g,b){function a(a){b.addOne(b.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT);var h=b.createShowroomAtfEvent(m,k,b.EVENT_NAMES.IMAGEBLOCK_MAIN_IMAGE_CLICK,b.STATUS_TYPES.SUCCESS);b.logShowroomAtfEvent(h);q(a)}function q(a){a.action="showroomIngressClick";a.data=p;n.dispatch("showroomIngressClick",a)}var k,n,
m,p;return{createThumbnail:function(a,b,d){p={type:"showroomIngress",index:0,thumbnailIndex:b,variant:d.variant};e.createThumbnail({type:g.SHOWROOM_THUMBNAIL_TYPE,index:0,thumbnailIndex:b,variant:d.variant},d.thumb,a,"showroom-imageblock-thumbnail");b=l(".pos-360.item");d=a.children(".showroom-imageblock-thumbnail");var c=a.children(":visible").length;1===b.length?(d.insertBefore(b),b=c-1):(d.appendTo(a),b=c);return b},updateMainImage:function(b,h){var d=b.find("#showroom-main-image");d.length?d.attr("src",
h.hiRes):(d=l("\x3cimg/\x3e").attr("src",h.hiRes).attr("id","showroom-main-image"),d.appendTo(b),c.declarative.create(b,"showroom-image-action",p),c.declarative("showroom-image-action",["click"],a),h=b.find("#showroom-main-image-overlay-container"),h.length||(h=f.getStringValue(g.STRING_IDS.MAIN_IMAGE_OVERLAY_TEXT),d=f.getStringValue(g.STRING_IDS.MAIN_IMAGE_OVERLAY_ICON_URL),h=l('                \x3cdiv id\x3d"showroom-main-image-overlay-container"\x3e                    \x3cimg id\x3d"showroom-main-image-overlay-icon" src\x3d"'+
(d?d:"")+'"/\x3e                    \x3cdiv\x3e                        \x3cspan id\x3d"showroom-main-image-overlay-text"\x3e'+h+"\x3c/span\x3e                    \x3c/div\x3e                \x3c/div\x3e                "),h.appendTo(b)))},hideShowroomMainImage:function(a){a.parent().css("z-index",-1);a.parent().addClass("aok-hidden")},showShowroomMainImage:function(a){a.parent().css("z-index",2);a.parent().removeClass("aok-hidden")},isShowroomMainImageHidden:function(){return l("#showroom-outer-container").hasClass("aok-hidden")},
handleShowroomIngressClick:q,handleShowroomThumbnailClick:function(a){b.addOne(b.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT);var c=b.createShowroomAtfEvent(m,k,b.EVENT_NAMES.IMAGEBLOCK_THUMBNAIL_CLICK,b.STATUS_TYPES.SUCCESS);b.logShowroomAtfEvent(c);q(a)},handleShowroomMainImageClick:a,refresh:function(a,b,c){n=a;k=b;m=c}}});"use strict";e.when("A").register("showroom-image-block-metrics",function(c){return{EVENT_NAMES:{IMAGEBLOCK_LOAD:"srm_atf_imageBlock_load",IMAGEBLOCK_THUMBNAIL_CLICK:"srm_atf_thumbnail_click",
IMAGEBLOCK_MAIN_IMAGE_CLICK:"srm_atf_main_image_click",IMMERSIVE_VIEW_TAB_CLICK:"srm_atf_iv_tab_click"},COUNTER_NAMES:{SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED:"showroom:atf:imageBlock:feature:render",SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER:"showroom:atf:imageBlock:thumbnail:hover",SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT:"showroom:atf:imageBlock:thumbnail:select",SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT:"showroom:atf:imageBlock:mainImage:select"},STATUS_TYPES:{SUCCESS:"success",ERROR:"error"},addOne:function(c){try{if(f.ue&&
c){var e=(f.ue.count(c)||0)+1;f.ue.count(c,e)}}catch(k){}},createShowroomAtfEvent:function(e,f,k,g){var b={};b.showroomId=e;b.asin=f;b.eventType=k;b.status=g;b.device=c.capabilities?c.capabilities.isAmazonApp?"AmazonApp":c.capabilities.mobile?"mobile":c.capabilities.tablet?"tablet":"desktop":"";b.userAgent=navigator?navigator.userAgent:"";b.producerId="showroom_atf";b.schemaId="com.amazon.showroom.ingress.clientEvent.3";return b},logShowroomAtfEvent:function(c){try{f.ue&&f.ue.event&&c&&f.ue.event(c,
"showroom_atf","com.amazon.showroom.ingress.clientEvent.3")}catch(q){}}}});"use strict";e.when("A","showroom-image-block-constants").register("showroom-lite-atf-feature-data",function(c,e){function f(){return g[b]}function k(a){return a in g}var g={},b;return{setData:function(a){a&&a.asin&&a.imageDomain&&a.defaultCollageUrl&&a.defaultStageId&&Array.isArray(a.itemMainImagePhysicalIds)&&(b=a.asin,k(a.asin)||(g[a.asin]=a,c.trigger(e.TWISTER_DATA_EVENT,a.asin)))},getDataForCurrentAsin:f,getDataForAsin:function(a){return g[a]},
getStringValue:function(a){return f().displayStrings?f().displayStrings[a]:""},isDataValidForAsin:k}})});
/* ******** */
